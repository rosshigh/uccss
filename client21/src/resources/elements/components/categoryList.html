<template>
    <label>Available Categories</label>
    <div class="well well2 overFlow" style="height:600px;">
        <input class="form-control" value.bind="filter" input.trigger="filterList()" placeholder="Filter Categories" />
        <div class="card" style="display:none;" id="CategoryForm">
            <div class="card-body">
                <div class="input-group">
                    <input class="form-control" type="text" id="categoryInput"
                        value.bind="documentsService.selectedCat.description" />
                    <span class="input-group-btn">
                        <i click.trigger="cancelEditCategory()" class="fa fa-ban fa-lg fa-border"
                            aria-hidden="true"></i>

                        <!-- <button click.trigger="cancelEditCategory(subCat)" type="button"
                            class="btn btn-fab btn-round btn-primary">
                            <i class="material-icons">cancel</i>
                        </button> -->
                    </span>
                    <span class="input-group-btn">
                        <i click.trigger="saveCategory()" class="fa fa-floppy-o fa-lg fa-border" aria-hidden="true"></i>
                        <!-- <button click.trigger="saveCategory()" type="button"
                            class="btn btn-fab btn-round btn-primary">
                            <i class="material-icons">save_alt</i>
                        </button> -->
                    </span>
                </div>
                <div class="row">
                    <div class="col">
                        <div class="checkbox">
                            <label>
                                <input checked.bind="documentsService.selectedCat.curriculum" type="checkbox">
                                Curriculum
                            </label>
                        </div>
                    </div>
                    <div class="col">
                        <div class="checkbox">
                            <label>
                                <input checked.bind="documentsService.selectedCat.downloads" type="checkbox"> Downloads
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card" style="display:none;" id="SubCategoryForm">
            <div class="card-body">
                <div class="input-group">
                    <input class="form-control" type="text" id="subCategoryInput"
                        value.bind="documentsService.selectedCat.subCategories[selectedSubCategoryIndex].description" />
                    <span class="input-group-btn">
                        <i click.trigger="cancelEditCategory()" class="fa fa-ban fa-lg fa-border"
                            aria-hidden="true"></i>
                        <!-- <button click.trigger="cancelEditCategory()" type="button"
                            class="btn btn-fab btn-round btn-primary">
                            <i class="material-icons">cancel</i>
                        </button> -->
                    </span>
                    <span class="input-group-btn">
                        <i click.trigger="saveCategory()" class="fa fa-floppy-o fa-lg fa-border" aria-hidden="true"></i>
                        <!-- <button click.trigger="saveCategory()" type="button"
                            class="btn btn-fab btn-round btn-primary">
                            <i class="material-icons">save_alt</i>
                        </button> -->
                    </span>
                </div>
            </div>
        </div>
        <div class="card" style="display:none;" id="SubSubCategoryForm">
            <div class="card-body">
                <div class="input-group">
                    <input class="form-control" type="text" id="subSubCategoryInput"
                        value.bind="documentsService.selectedCat.subCategories[selectedSubCategoryIndex].subSubCategories[selectedSubSubCategoryIndex].description" />
                    <span class="input-group-btn">
                        <i click.trigger="cancelEditCategory()" class="fa fa-ban fa-lg fa-border"
                            aria-hidden="true"></i>
                        <!-- <button click.trigger="cancelEditCategory(subCat)" type="button"
                            class="btn btn-fab btn-round btn-primary">
                            <i class="material-icons">cancel</i>
                        </button> -->
                    </span>
                    <span class="input-group-btn">
                        <i click.trigger="saveCategory()" class="fa fa-floppy-o fa-lg fa-border" aria-hidden="true"></i>
                        <!-- <button click.trigger="saveCategory()" type="button"
                            class="btn btn-fab btn-round btn-primary">
                            <i class="material-icons">save_alt</i>
                        </button> -->
                    </span>
                </div>
            </div>
        </div>


        <div class="row">
            <div class="col-10">
                <ul id="myUL">
                    <li class="pointMe" repeat.for="type of filteredDocumentArray">
                        <span click.trigger="toggleListItem($event, type.DocCode)"><i class="${type | documentIcons}"
                                aria-hidden="true"></i> ${type.description}</span>
                        <span click.delegate="newSubCategory(type, $event)" class="smallMarginRight" bootstrap-tooltip
                            data-toggle="tooltip" data-placement="bottom" title=""
                            data-original-title="New Subcategory"><i class="fa fa-plus" aria-hidden="true"></i></span>
                        <span click.delegate="editCategory(type, $event)" bootstrap-tooltip
                            data-toggle="toggle" data-placement="bottom" title="" data-original-title="Edit"><i
                                class="fa fa-pencil" aria-hidden="true"></i></span>
                        <ul class="nested">
                            <li click.delegate="toggleListItem($event)"
                                repeat.for="subCat of type.subCategories">
                                <span class="caret">${subCat.description}</span>
                                <span click.delegate="newSubSubCategory($index, type, $event)"
                                    class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip"
                                    data-placement="bottom" title="" data-original-title="New Subcategory"><i
                                        class="fa fa-plus" aria-hidden="true"></i></span>
                                <span click.delegate="editSubCategory($index, type, $event)" bootstrap-tooltip
                                    data-toggle="toggle" data-placement="bottom" title="" data-original-title="Edit"><i
                                        class="fa fa-pencil" aria-hidden="true"></i></span>
                                <ul class="nested">
                                    <li click.delegate="showSubCategoryDocuments(type, $parent.$index, $index, $event)" repeat.for="subSubCat of subCat.subSubCategories">
                                        <span>${subSubCat.description}</span>
                                        <span click.delegate="editSubSubCategory($index, type, $parent.$index, $event)"
                                            bootstrap-tooltip data-toggle="toggle" data-placement="bottom" title=""
                                            data-original-title="Edit"><i class="fa fa-pencil"
                                                aria-hidden="true"></i></span>
                                    </li>
                            </li>
                        </ul>
                    </li>
                </ul>
                </li>
                </ul>
            </div>
        </div>
    </div>
</template>