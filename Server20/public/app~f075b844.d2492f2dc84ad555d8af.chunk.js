(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+bNA":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){this.BASE_URL="http=//localhost/api/",this.IMG_DOWNLOAD_URL="http=//localhost/img/",this.INSTITUTIONS_ACTIVE="01",this.ACTIVE_PERSON="01",this.INACTIVE_PERSON="02",this.ROLES=[{role:"USER",label:"User",UCConly:!1,authLevel:2},{role:"FACU",label:"Faculty",UCConly:!1,authLevel:3},{role:"PROV",label:"Provisional",UCConly:!1,authLevel:1},{role:"LEGL",label:"Legal",UCConly:!1,authLevel:2},{role:"BUSI",label:"Billing",UCConly:!1,authLevel:2},{role:"PRIM",label:"Primary",UCConly:!1,authLevel:4},{role:"TECH",label:"Technical",UCConly:!1,authLevel:2},{role:"ACCT",label:"ACC",UCConly:!1,authLevel:5},{role:"UCCT",label:"UCC Technical Staff",UCConly:!0,authLevel:8},{role:"UCCA",label:"UCC Admin Staff",UCConly:!0,authLevel:6},{role:"UCSA",label:"UCCSS Admin",UCConly:!0,authLevel:11},{role:"BLOG",label:"Blog Author",UCConly:!1,authLevel:2},{role:"TMAN",label:"Director",UCConly:!0,authLevel:11},{role:"EDIR",label:"Executive Director",UCConly:!0,authLevel:11},{role:"TDIR",label:"Technical Director",UCConly:!0,authLevel:11},{role:"TMGR",label:"Technical Manager",UCConly:!0,authLevel:11},{role:"STUT",label:"Student Worker",UCConly:!0,authLevel:8},{role:"UAST",label:"UA Staff",UCConly:!1,authLevel:7}],this.UCC_ROLE=6,this.UCC_TECH_ROLE=8,this.UA_ROLE=7,this.ACC_ROLE=5,this.USER_ROLE=4,this.d=void 0,this.PROV_USER=1,this.PHONE_MASKS=[{country:"US",mask:"999-999-9999"},{country:"CA",mask:"999-999-9999"},{country:"CANADA",mask:"999-999-9999"},{country:"BR",mask:"99 99999 9999"},{country:"CO",mask:"9999999999999"}]}},"/T8m":function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n,s=r("aurelia-framework"),a=r("R4nB");function i(e,t,r,n,s,a,i){try{var o=e[a](i),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(n,s)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var a=e.apply(t,r);function o(e){i(a,n,s,o,l,"next",e)}function l(e){i(a,n,s,o,l,"throw",e)}o(void 0)}))}}var l=Object(s.inject)(a.a)(n=function(){function e(e){this.CONFIG_SERVICE="config",this.SESSIONS_CONFIG_SERVICE="semesterConfig",this.token=void 0,this.user=void 0,this.data=e}var t=e.prototype;return t.getConfigArray=function(){var e=o(regeneratorRuntime.mark((function e(t,r){var n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.configArray&&!t){e.next=13;break}return n=this.data.CONFIG_SERVICE,n+=r||"",e.prev=3,e.next=6,this.data.get(n);case 6:(s=e.sent).error?this.data.processError(s):this.configArray=s,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,r){return e.apply(this,arguments)}}(),t.saveAll=function(){var e=o(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}return r={parameters:t},e.next=4,this.data.saveObject(r,this.CONFIG_SERVICE+"/saveAll","put");case 4:if((n=e.sent).error){e.next=9;break}return e.abrupt("return",n);case 9:this.data.processError(n,"There was an error updating the configuration.");case 10:return e.abrupt("return",n);case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}())||n},0:function(e,t,r){r("GAND"),r("GmYv"),e.exports=r("b9nV")},B6RA:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n,s=r("/T8m"),a=r("3U8n");function i(e,t,r,n,s,a,i){try{var o=e[a](i),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(n,s)}var o=Object(a.s)(s.a)(n=function(){function e(e){this.config=e}var t=e.prototype;return t.retrieveConfig=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.config.getConfigArray()]);case 2:e.sent,this.saveConfig(this.config.configArray);case 4:case"end":return e.stop()}}),e,this)})),function(){var t=this,r=arguments;return new Promise((function(n,s){var a=e.apply(t,r);function o(e){i(a,n,s,o,l,"next",e)}function l(e){i(a,n,s,o,l,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}(),t.saveConfig=function(e){var t={};e.forEach((function(e){t[e.parameter]=e.value})),sessionStorage.setItem("config",JSON.stringify(t))},t.getConfig=function(){return JSON.parse(sessionStorage.getItem("config"))},t.removeConfig=function(){sessionStorage.removeItem("config")},t.saveUser=function(e){e&&sessionStorage.setItem("user",JSON.stringify(e))},t.removeUser=function(){sessionStorage.removeItem("user")},t.getUser=function(){return JSON.parse(sessionStorage.getItem("user"))},t.login=function(e,t){e&&t&&(l(e),sessionStorage.setItem("token",t))},t.setUserRole=function(e){sessionStorage.setItem("role",e)},t.removeUserRole=function(){sessionStorage.removeItem("role")},t.logout=function(){c(),sessionStorage.removeItem("token"),u()},t.getToken=function(){return sessionStorage.getItem("token")},t.loadState=function(){newState={},newState.user=JSON.parse(sessionStorage.getItem("user")),newState.token=sessionStorage.getItem("token"),newState.config=sessionStorage.getItem("config")},t.deleteState=function(){d(),sessionStorage.removeItem("config")},t.getter=function(e){return sessionStorage.getItem(e)},t.deleteStorage=function(e){sessionStorage.removeItem(e)},e}())||n;function l(e){e&&sessionStorage.setItem("user",JSON.stringify(e))}function c(){sessionStorage.removeItem("user")}function u(){sessionStorage.removeItem("role")}function d(){c(),sessionStorage.removeItem("token"),u()}},BEPO:function(e){e.exports=JSON.parse('{"a":false,"b":false}')},G0rb:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n,s=r("aurelia-framework"),a=r("R4nB"),i=r("B6RA");function o(e,t,r,n,s,a,i){try{var o=e[a](i),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(n,s)}var l=Object(s.inject)(a.a,i.a)(n=function(){function e(e,t){this.loginUrl="users/login",this.logoutUrl="users/logout",this.data=e,this.store=t}var t=e.prototype;return t.login=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r){var n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t,password:r},e.next=3,this.data.login(n,this.loginUrl);case 3:return(s=e.sent).error||(s.user.userRole=this.setRole(s.user.roles),this.store.login(s.user,s.token)),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e,this)})),function(){var t=this,r=arguments;return new Promise((function(n,s){var a=e.apply(t,r);function i(e){o(a,n,s,i,l,"next",e)}function l(e){o(a,n,s,i,l,"throw",e)}i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),t.logout=function(){this.store.logout()},t.isAuthenticated=function(){var e,t=this.store.getter("token");if(!t)return!1;if(3!==t.split(".").length)return!0;try{var r=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");e=JSON.parse(window.atob(r)).exp}catch(e){return!1}return!e||Math.round((new Date).getTime()/1e3)<=e},t.setRole=function(e){for(var t=this.store.getConfig().ROLES,r=1,n=function(n){t.forEach((function(t){e[n]==t.role&&(r=t.authLevel>r?t.authLevel:r)}))},s=0;s<e.length;s++)n(s);return r},e}())||n},R4nB:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n,s=r("aurelia-framework"),a=r("1aCK"),i=r("nxgs"),o=r("aurelia-event-aggregator"),l=Object(s.inject)(a.a,i.a,o.a)(n=function(){function e(e,t,r){var n=this;this.isRequesting=!1,this.config={BASE_URL:"http://localhost/api"},this.FILE_URL="http://localhost:5000/api/upload",this.FILE_DOWNLOAD_URL="http://localhost:5000/",this.IS4UA="is4ua",this.CLIENTS_SERVICE="clients",this.DELETE_ALL_CLIENTS="clients/system/SYSTEMID",this.COURSES_SERVICE="courses",this.PERSON_COURSES_SERVICE="courses/person/PERSONID",this.CONFIG_SERVICE="config",this.SESSIONS_CONFIG_SERVICE="semesterConfig",this.DOCUMENTS_FILE_UPLOAD="documents/file",this.http=e,this.utils=t,this.eventAggregator=r,this.http.configure((function(e){e.withBaseUrl(n.config.BASE_URL)}))}var t=e.prototype;return t.activate=function(){},t.get=function(e){var t=this;return this.isRequesting=!0,this.http.createRequest(e).asGet().withHeader("Authorization","JWT "+sessionStorage.getItem("token")).send().then((function(e){return t.isRequesting=!1,e.isSuccess?JSON.parse(e.response):e})).catch((function(e){return t.isRequesting=!1,console.log(e),{error:!0,code:e.statusCode,message:e.statusText}}))},t.getNoAuth=function(e){var t=this;return this.isRequesting=!0,this.http.createRequest(e).asGet().send().then((function(e){return t.isRequesting=!1,e.isSuccess?JSON.parse(e.response):e})).catch((function(e){return t.isRequesting=!1,console.log(e),{error:!0,code:e.statusCode,message:e.statusText}}))},t.saveObject=function(e,t,r){var n=this;return this.isRequesting=!0,"put"===r?this.http.createRequest(t).asPut().withHeader("Authorization","JWT "+sessionStorage.getItem("token")).withContent(e).send().then((function(e){return n.isRequesting=!1,e.isSuccess?JSON.parse(e.response):e})).catch((function(e){return n.isRequesting=!1,console.log(e),{error:!0,code:e.statusCode,message:e.statusText}})):"post"===r?this.http.createRequest(t).asPost().withHeader("Authorization","JWT "+sessionStorage.getItem("token")).withContent(e).send().then((function(e){return n.isRequesting=!1,e.isSuccess?JSON.parse(e.response):e})).catch((function(e){return n.isRequesting=!1,console.log(e),{error:!0,code:e.statusCode,message:e.statusText}})):void 0},t.deleteObject=function(e){var t=this;return this.isRequesting=!0,this.http.createRequest(e).asDelete().withHeader("Authorization","JWT "+sessionStorage.getItem("token")).send().then((function(e){return t.isRequesting=!1,e.isSuccess?204===e.statusCode?e:JSON.parse(e.response):e})).catch((function(e){return t.isRequesting=!1,console.log(e),{error:!0,code:e.statusCode,message:e.statusText}}))},t.sendMail=function(e){var t=this;return this.isRequesting=!0,this.http.createRequest("sendMail").asPost().withHeader("Authorization","JWT "+sessionStorage.getItem("token")).withContent(e).send().then((function(e){return t.isRequesting=!1,e.isSuccess?JSON.parse(e.response):e})).catch((function(e){return t.isRequesting=!1,console.log(e),{error:!0,code:e.statusCode,message:e.statusText}}))},t.login=function(e,t){var r=this;return this.http.createRequest(t).asPost().withContent(e).send().then((function(e){return r.isRequesting=!1,JSON.parse(e.response)})).catch((function(e){return r.isRequesting=!1,console.log(e),{error:!0,code:e.statusCode,message:e.statusText}}))},t.uploadFiles=function(e,t){var r=this;this.progress=0;var n=new FormData;return e.forEach((function(e,t){n.append("file"+t,e)})),this.http.createRequest(t).asPost().withHeader("Authorization","JWT "+sessionStorage.getItem("token")).withContent(n).skipContentProcessing().withProgressCallback((function(e){console.log(e.loaded),r.eventAggregator.publish("upload-progress",{progress:e.loaded,total:e.total}),r.progress=e.loaded/e.total})).send().then((function(e){return r.isRequesting=!1,e.isSuccess?JSON.parse(e.response):e})).catch((function(e){return r.isRequesting=!1,console.log(e),{error:!0,code:e.statusCode,message:e.statusText}}))},t.processError=function(e,t){console.log(e);var r=(t||"")+" ";switch(e.code){case 404:r=void 0;break;case 422:r=r+="The request was bad.  Contact your UCC.";break;case 409:r=r+="The record already exists.";break;case 500:r=r+="An unspecified error occured on the server.  Contact your UCC.";break;default:r=r+="An unspecified error occured.  Contact your UCC."}r&&r.length>0&&this.utils.showNotification(r)},e}())||n},app:function(e,t,r){"use strict";r.r(t),r.d(t,"App",(function(){return l}));var n,s=r("aurelia-event-aggregator"),a=r("/T8m"),i=r("3U8n"),o=r("B6RA"),l=Object(i.s)(a.a,s.a,o.a)(n=function(){function e(e,t,r){this.config=e,this.eventAggregator=t,this.store=r,this.validateUser(),this.subscribe()}var t=e.prototype;return t.validateUser=function(){this.userObj=this.store.getUser("user"),this.isAuthenticated=this.userObj,console.log(this.isAuthenticated)},t.subscribe=function(){var e=this;this.subscriber=this.eventAggregator.subscribe("auth:login",(function(t){e.isAuthenticated="login"==t,console.log(e.isAuthenticated)}))},t.configureRouter=function(e,t){this.router=t,e.title="UCCSS",e.map([{route:["","user"],moduleId:"./modules/user/user",name:"User",settings:{auth:!1,roles:[]}},{route:"customers",moduleId:"./modules/admin/Customers/customers",name:"customers",settings:{auth:!1,roles:[]}}])},e}())||n},"app.html":function(e,t,r){e.exports='<template>\n  <require from="resources/css/material-dashboard.css"></require>\n  <require from="resources/css/styles.css"></require>\n  <div  class="wrapper ">\n    <side-bar></side-bar>\n    <div class="main-panel">\n      <router-view></router-view>\n    </div>\n  </div>\n</template>\n'},cMTQ:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return _class}));var aurelia_framework__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("aurelia-framework"),_dec,_class2,_temp,_class=(_dec=Object(aurelia_framework__WEBPACK_IMPORTED_MODULE_0__.transient)(),_dec((_temp=function(){this.ruleGroupIndices=[],this.ruleGroupsArray=[],this.addGroup=function(e,t){return this.context=t,this.ruleGroupIndices.push(e),this.ruleGroupsArray.push(new RuleGroup(e)),this.ruleGroupsArray[this.ruleGroupsArray.length-1]}},_class2=_temp))||_class2),RuleGroup=function(e){this.ensure=function(e){var t=this.propertyExists(e);return t>-1?this.properties[t]:(this.properties.push(new Property(e)),this.properties[this.properties.length-1])},this.on=function(e){return this.object=e,this},this.propertyExists=function(e){return this.properties.forEach((function(t,r){if(t.property===e)return r})),-1},this.ruleGroup=e,this.context=void 0,this.properties=[]},Property=function(){function e(e,t){this.property=e,this.rules=[]}return e.prototype.require=function(){return this.rules.push(new Rule("require")),this},e}(),Rule=function(){function Rule(rule,options){this.required=function(){return!eval("this.context."+rules.value)||0===eval("this.context."+rules.value).length},this.rule=rule,options&&(this.context=options.context)}var _proto2=Rule.prototype;return _proto2.validate=function validate(){return eval("this."+this.rule)},Rule}()},home:function(e,t,r){"use strict";r.r(t),r.d(t,"Home",(function(){return h}));var n,s=r("aurelia-framework"),a=r("4ysu"),i=r("G0rb"),o=r("+bNA"),l=r("nxgs"),c=r("B6RA"),u=r("/T8m");function d(e,t,r,n,s,a,i){try{var o=e[a](i),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(n,s)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var a=e.apply(t,r);function i(e){d(a,n,s,i,o,"next",e)}function o(e){d(a,n,s,i,o,"throw",e)}i(void 0)}))}}var h=Object(s.inject)(i.a,o.a,a.c,l.a,s.Aurelia,c.a,u.a)(n=function(){function e(e,t,r,n,s,a,i){this.auth=e,this.router=r,this.aurelia=s,this.utils=n,this.appConfig=t,this.store=a,this.config=i}var t=e.prototype;return t.activate=function(){var e=p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.store.retrieveConfig();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.login=function(){var e=p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth.login(this.email,this.password);case 2:e.sent.error?this.loginError="Invalid credentials.":(this.loginError="",this.loginSuccess(),this.isAuthenticated=this.auth.isAuthenticated());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.loginSuccess=function(){var e=p(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.userObj=this.store.getUser("user"),!this.userObj){e.next=16;break}if(this.userObj.institutionId.institutionStatus===this.appConfig.INSTITUTIONS_ACTIVE){e.next=7;break}this.utils.showNotification("You must belong to an active institution to access the web site"),this.logout(),e.next=14;break;case 7:if(this.userObj.personStatus===this.appConfig.ACTIVE_PERSON){e.next=11;break}return e.abrupt("return",this.dialog.showMessage("You must have an active account to access the web site.  Contact your faculty coordinator to activate your account.","Account Not Active",["OK"]).whenClosed((function(e){t.logout()})));case 11:this.userObj.userRole||this.logout(),this.store.setUserRole(this.userObj.userRole),this.aurelia.setRoot("app");case 14:e.next=18;break;case 16:this.utils.showNotification("There was a problem validating your account"),this.router.navigate("home");case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.requestPasswordReset=function(){var e=p(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.email){e.next=7;break}return e.next=3,this.people.requestPasswordReset({email:this.email});case 3:(t=e.sent)&&!t.error?this.utils.showNotification("An email has been sent to the provided email address with a link you can use to reset your password"):(t.status=404)?this.utils.showNotification("There is no registered user with that email address"):(t.status=401)&&this.utils.showNotification("The account with the provided address has been deactivated.  Please contact your faculty coordinator."),e.next=8;break;case 7:this.utils.showNotification("Please enter an email address");case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e}())||n},"home.html":function(e,t,r){e.exports='<template>\r\n  <require from="resources/css/material-dashboard.css"></require>\r\n  <require from="resources/css/styles.css"></require>\r\n    <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top text-white">\r\n        <div class="container">\r\n          <div class="navbar-wrapper">\r\n            <a class="navbar-brand" href="javascript:;">Login Page</a>\r\n          </div>\r\n          <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">\r\n            <span class="sr-only">Toggle navigation</span>\r\n            <span class="navbar-toggler-icon icon-bar"></span>\r\n            <span class="navbar-toggler-icon icon-bar"></span>\r\n            <span class="navbar-toggler-icon icon-bar"></span>\r\n          </button>\r\n          <div class="collapse navbar-collapse justify-content-end">\r\n            <ul class="navbar-nav">\r\n              <li class="nav-item ">\r\n                <a href="../pages/register.html" class="nav-link">\r\n                  <i class="material-icons">person_add</i>\r\n                  Register\r\n                </a>\r\n              </li>\r\n              <li class="nav-item ">\r\n                <a href="https://www.creative-tim.com/" class="nav-link">\r\n                  <i class="material-icons">info</i>\r\n                  About the UCC\r\n                </a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n      \x3c!-- End Navbar --\x3e\r\n      <div class="wrapper wrapper-full-page">\r\n        <div class="page-header login-page header-filter" filter-color="black" style="background-image: url(\'http://localhost/img/Lubar-2019.gif\'); background-size: cover; background-position: top center;">\r\n          \x3c!--   you can change the color of the filter page using: data-color="blue | purple | green | orange | red | rose " --\x3e\r\n          <div class="container">\r\n            <div class="row">\r\n              <div class="col-lg-4 col-md-6 col-sm-8 ml-auto mr-auto">\r\n                <form class="form" method="" action="">\r\n                  <div class="card card-login">\r\n                    <div class="card-header card-header-rose text-center">\r\n                      <h4 class="card-title">Login</h4>\r\n                    </div>\r\n                    <div class="card-body ">\r\n                      <p class="card-description text-center">UWM UCCSS</p>\r\n                      <span class="bmd-form-group">\r\n                        <div class="input-group">\r\n                          <div class="input-group-prepend">\r\n                            <span class="input-group-text">\r\n                              <i class="material-icons">email</i>\r\n                            </span>\r\n                          </div>\r\n                          <input value.bind="email" type="email" class="form-control" placeholder="Email...">\r\n                        </div>\r\n                      </span>\r\n                      <span class="bmd-form-group">\r\n                        <div class="input-group">\r\n                          <div class="input-group-prepend">\r\n                            <span class="input-group-text">\r\n                              <i class="material-icons">lock_outline</i>\r\n                            </span>\r\n                          </div>\r\n                          <input value.bind="password" type="password" class="form-control" placeholder="Password...">\r\n                        </div>\r\n                      </span>\r\n                    </div>\r\n                    <div class="card-footer justify-content-center">\r\n                        <button class="btn btn-primary leftMargin" click.delegate=\'login()\'>Login</button>\r\n                        <button class="btn btn-link" click.delegate="requestPasswordReset()">Forgot password</button <label\r\n                          if.bind="loginError" style="color:white;">${loginError}</label>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <footer class="footer">\r\n            <div class="container">\r\n              <nav class="float-left">\r\n                <ul>\r\n                 \r\n                </ul>\r\n              </nav>\r\n            </div>\r\n          </footer>\r\n        </div>\r\n      </div>\r\n</template>'},main:function(e,t,r){"use strict";r.d(t,"configure",(function(){return a}));r("ls82");var n=r("BEPO"),s=r("70NS");function a(e){e.use.standardConfiguration().globalResources("aurelia-mask/dist/masked-input").plugin("au-table").plugin("aurelia-validation").plugin("aurelia-validatejs").feature("resources/index"),e.use.developmentLogging(n.a?"debug":"warn"),n.b&&e.use.plugin("aurelia-testing"),e.start().then((function(){var t=sessionStorage.getItem("user")?"app":"home";e.setRoot(s.PLATFORM.moduleName(t))}))}},"modules/admin/Customers/bulkEmails":function(e,t,r){"use strict";r.r(t),r.d(t,"BulkEmails",(function(){return n}));var n=function(){}},"modules/admin/Customers/bulkEmails.html":function(e,t){e.exports="<template>\r\n    \r\n</template>"},"modules/admin/Customers/components/address.html":function(e,t){e.exports='<template>\r\n     <div class="topMargin">\r\n        <div class="bottomMargin list-group-item leftMargin rightMargin">\r\n            <span click.delegate="copyInstAddress()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Copy Instituion Address"><i class="fa fa-files-o fa-lg fa-border" aria-hidden="true"></i></span>\r\n        </div>\r\n        <div class="topMargin">\r\n            <div class="col-sm-12 col-lg-12">\r\n                <label for="editAddress1" class="control-label hideOnPhone">Address 1</label>\r\n                <input value.bind="people.selectedPerson.address1" id="editAddress1" class="form-control " placeholder="Address 1" type="text" />\r\n            </div>\r\n            <div class="col-sm-12 col-lg-12">\r\n                <label for="editAddress2" class="control-label hideOnPhone">Address 2</label>\r\n                <input value.bind="people.selectedPerson.address2" id="editAddress2" class="form-control " placeholder="Address2" type="text" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-12 col-lg-12">\r\n                <label for="editCity" class="control-label hideOnPhone">City</label>\r\n                <input value.bind="people.selectedPerson.city" id="editCity" class="form-control " placeholder="City" type="text" />\r\n            </div>\r\n            <div class="col-sm-12 col-lg-12">\r\n                <label for="editRegion" class="control-label hideOnPhone">Region</label>\r\n                <input value.bind="people.selectedPerson.region" id="editRegion" class="form-control " placeholder="Region" type="text" />\r\n            </div>\r\n            <div class="col-sm-12 col-lg-12">\r\n                <label for="editPostalCode" class="control-label hideOnPhone">Postal Code</label>\r\n                <input value.bind="people.selectedPerson.postalCode" id="editPostalCode" class="form-control " placeholder="Postal Code" type="text" />\r\n            </div>\r\n            <div class="col-sm-12 col-lg-12">\r\n                <label for="editCountry" class="control-label hideOnPhone">Country</label>\r\n                <input value.bind="people.selectedPerson.country" change.trigger="getPhoneMask()" id="editCountry" class="form-control" placeholder="Country" type="text" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>'},"modules/admin/Customers/components/changePersonModal.html":function(e,t){e.exports='<template>\r\n    <div class="modal fade" id="personChanged" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">\r\n        <div class="modal-dialog" role="document">\r\n          <div class="modal-content">\r\n            <div class="modal-header">\r\n              <h5 class="modal-title" id="personChangedModalLabel">Save Changes</h5>\r\n              <button type="button" class="close" data-dismiss="modal" aria-label="Close">\r\n                <span aria-hidden="true">&times;</span>\r\n              </button>\r\n            </div>\r\n            <div class="modal-body">\r\n              Do you want to save the person?\r\n            </div>\r\n            <div class="modal-footer">\r\n              <button click.trigger="goBack()" type="button" class="btn btn-secondary" data-dismiss="modal">No</button>\r\n              <button click.trigger="save()" type="button" class="btn btn-primary" data-dismiss="modal">Yes</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n</template>'},"modules/admin/Customers/components/deletePersonModal.html":function(e,t){e.exports='<template>\r\n    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">\r\n        <div class="modal-dialog" role="document">\r\n          <div class="modal-content">\r\n            <div class="modal-header">\r\n              <h5 class="modal-title" id="exampleModalLabel">Confirm Delete</h5>\r\n              <button type="button" class="close" data-dismiss="modal" aria-label="Close">\r\n                <span aria-hidden="true">&times;</span>\r\n              </button>\r\n            </div>\r\n            <div class="modal-body">\r\n              Are you sure you want to delete this record?\r\n            </div>\r\n            <div class="modal-footer">\r\n              <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>\r\n              <button click.trigger="deletePerson()" type="button" class="btn btn-primary" data-dismiss="modal">Yes</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n</template>'},"modules/admin/Customers/components/password.html":function(e,t){e.exports='<template>\r\n    <div class="topMargin">\r\n        <div class="panel panel-default col-md-12">\r\n            <div class="panel-body">\r\n                <div class="bottomMargin">\r\n                        <div class="bottomMargin list-group-item">\r\n                            <span click.delegate="savePassword()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Save"><i class="fa fa-floppy-o fa-lg fa-border" aria-hidden="true"></i></span>\r\n                            <span click.delegate="cancelEditPassword()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Cancel Changes"><i class="fa fa-ban fa-lg fa-border" aria-hidden="true"></i></span>\r\n                        </div>  \r\n                    </div>\r\n                <div class="form-group">\r\n                    <input id="newPassword" type="text" placeholder="New Password"\r\n                        class="form-control topMargin"\r\n                        value.bind="newPassword" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>'},"modules/admin/Customers/components/peopleForm.html":function(e,t,r){e.exports='<template>\r\n  <compose view="./deletePersonModal.html"></compose>\r\n  <compose view="./changePersonModal.html"></compose>\r\n  <compose view="./youHaveErrorsModal.html"></compose>\r\n    <div class="card positionUnderToolbar">\r\n        <div class="card-body">\r\n            <div class="list-group-item col-lg-10">\r\n                <span click.delegate="back()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip"\r\n                    data-placement="bottom" title="" data-original-title="Back"><i\r\n                        class="fa fa-arrow-left fa-lg fa-border" aria-hidden="true"></i></span>\r\n                <span  disabled.bind="controller.errors.length > 0" click.delegate="save()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip"\r\n                    data-placement="bottom" title="" data-original-title="Save"><i\r\n                        class="fa fa-floppy-o fa-lg fa-border" aria-hidden="true"></i></span>\r\n                <span click.delegate="cancel()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip"\r\n                    data-placement="bottom" title="" data-original-title="Cancel Changes"><i\r\n                        class="fa fa-ban fa-lg fa-border" aria-hidden="true"></i></span>\r\n                <span show.bind="!newPerson" class="smallMarginRight" bootstrap-tooltip\r\n                    data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Delete" ><i\r\n                        class="fa fa-trash fa-lg fa-border text-danger" aria-hidden="true" data-toggle="modal" data-target="#exampleModal"></i></span>\r\n            </div>\r\n            <div class=\'col-lg-10 bottomMargin topMargin\'>\r\n                <ul class="nav nav-pills bottomMargin">\r\n                    <li class="nav-item">\r\n                        <a class="nav-link active" data-toggle="tab" role="tab" href="#userinfo">User Info</a>\r\n                    </li>\r\n                    <li class="nav-item">\r\n                        <a class="nav-link" data-toggle="tab" role="tab" href="#address">Address</a>\r\n                    </li>\r\n                    <li class="nav-item">\r\n                        <a class="nav-link" data-toggle="tab" role="tab" href="#roles">Roles</a>\r\n                    </li>\r\n                    <li class="nav-item">\r\n                        <a class="nav-link" data-toggle="tab" role="tab" href="#password">Password</a>\r\n                    </li>\r\n                </ul>\r\n                <div class="tab-content" id="myTabContent">\r\n                    <div class="tab-pane fade show active" id="userinfo" role="tabpanel" aria-labelledby="home-tab">\r\n                        <compose view="./userInfo.html"></compose>\r\n                    </div>\r\n                    <div class="tab-pane fade" id="address" role="tabpanel" aria-labelledby="home-tab">\r\n                        <compose view="./address.html"></compose>\r\n                    </div>\r\n                    <div class="tab-pane fade" id="roles" role="tabpanel" aria-labelledby="home-tab">\r\n                        <compose view="./roles.html"></compose>\r\n                    </div>\r\n                    <div class="tab-pane fade" id="password" role="tabpanel" aria-labelledby="home-tab">\r\n                        <compose view="./password.html"></compose>\r\n                    </div>\r\n                </div>\r\n                <div class="row">\r\n                    <div class="col">\r\n                        <ul if.bind="controller.errors.length > 0">\r\n                            <li repeat.for="error of controller.errors">${error}</li>\r\n                        </ul>\r\n                    </div>\r\n                    <div class="col">\r\n                        <ul if.bind="validationErrors.length > 0">\r\n                            <li repeat.for="error of validationErrors">${error}</li>\r\n                        </ul>\r\n                    </div>                    \r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>'},"modules/admin/Customers/components/peopleTable.html":function(e,t,r){e.exports='<template>\r\n    <div class="card" style="top:-110px;">\r\n        <div class="card-body">\r\n            <div class=\'col-lg-10 offset-lg-1 bottomMargin\'>\r\n\r\n                <compose view="../../../../resources/elements/table-nav-bar.html"></compose>\r\n\r\n                <table class="table table-striped"\r\n                    aurelia-table="data.bind: people.peopleArray; display-data.bind: $displayData; filters.bind: filters; current-page.bind: currentPage; page-size.bind: pageSize; total-items.bind: totalItems;">\r\n                    <thead>\r\n                        <tr>\r\n                            <compose view=\'./peopleTableToolbar.html\'></compose>\r\n                        </tr>\r\n                        <tr>\r\n                            <th colspan="2">\r\n                                <div class=\'col\'>\r\n                                    <div class="form-group">\r\n                                        <input type="text" value.bind="filters[0].value"\r\n                                            placeholder="Filter name, institution, email and role" class="form-control"\r\n                                            id=\'filterField\' />\r\n                                    </div>\r\n                                </div>\r\n                            </th>\r\n                            <th></th>\r\n                            <th></th>\r\n\r\n                            <th colspan="2">\r\n                                <div class=\'col\'>\r\n                                    <div class="form-group">\r\n                                        <select value.bind="filters[1].value" class="form-control " id="personStatus">\r\n                                            <option value=""></option>\r\n                                            <option repeat.for=\'status of is4ua.personStatusArray\'\r\n                                                model.bind=\'status.code\'>\r\n                                                ${status.description}</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </th>\r\n                        </tr>\r\n\r\n                        <tr>\r\n                            <th style="width:20rem;" aut-sort="key: lastName">Name</th>\r\n                            <th style="width:30rem;" aut-sort="key: institutionId.name">Institution</th>\r\n                            <th style="width:20rem;" aut-sort="key: email">E-mail</th>\r\n                            <th style="width:15rem;">Phone</th>\r\n                            <th>Role</th>\r\n                            <th>Status</th>\r\n                        </tr>\r\n                    </thead>\r\n                    \r\n                    <tbody>\r\n                        <tr repeat.for="person of $displayData" >\r\n                            <td click.delegate="edit(person)">${person.fullName}</td>\r\n                            <td click.delegate="edit(person)">${person.institutionId.name}</td>\r\n                            <td> <a href="mailto:${person.email}"><i class="fa fa-paper-plane" aria-hidden="true"></i></a> ${person.email}</td>\r\n                            <td click.delegate="edit(person)">\r\n                                ${person.phone | phoneNumber:config.PHONE_MASKS:person.country:person.ext}<br>\r\n                                ${person.mobile | phoneNumber:config.PHONE_MASKS:person.country}\r\n                            </td>\r\n                            <td click.delegate="edit(person)">${person.roles}</td>\r\n                            <td>${person.personStatus |\r\n                                lookupValue:is4ua.personStatusArray:"code":"description"}\r\n                                <span click.delegate="toggleStatus(person._id, person.personStatus)"\r\n                                innerhtml="${person.personStatus | activateButton}"></span>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n               \r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    </div>\r\n</template>'},"modules/admin/Customers/components/peopleTableToolbar.html":function(e,t){e.exports='<template>\r\n    <td colspan=\'7\'>\r\n        <span click.delegate="refresh()" class="smallMarginRight" bootstrap-tooltip\r\n            data-toggle="tooltip" data-placement="bottom" title=""\r\n            data-original-title="Refresh"><i class="fa fa-refresh"\r\n                aria-hidden="true"></i></span>\r\n        <span click.delegate="new()" class="smallMarginRight" bootstrap-tooltip\r\n            data-toggle="tooltip" data-placement="bottom" title="" data-original-title="New"><i\r\n                class="fa fa-plus" aria-hidden="true"></i></span>\r\n        <span click.delegate="downloadInstExcel()" class="smallMarginRight" bootstrap-tooltip\r\n            data-toggle="tooltip" data-placement="bottom" title=""\r\n            data-original-title="Export to Excel"><i class="fa fa-download"\r\n                aria-hidden="true"></i></span>\r\n        <span click.delegate="clearFilters()" class="smallMarginRight" bootstrap-tooltip\r\n            data-toggle="tooltip" data-placement="bottom" title=""\r\n            data-original-title="Clear Filters"><i class="fa fa-filter"\r\n                aria-hidden="true"></i></span>\r\n    </td>\r\n</template>'},"modules/admin/Customers/components/roles.html":function(e,t){e.exports='<template>\r\n  <div class="topMargin">\r\n    <form>\r\n      <div class="row">\r\n        <div class="col">\r\n          <label>Roles</label>\r\n          <div class="card overFlow" style="height:400px;">\r\n            <ul class="list-group list-group-flush">\r\n              <button href="#" click.trigger="selectRole($event, role)" repeat.for="role of filteredArray" type="button" class="list-group-item">${role.label}</a>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div class="col">\r\n          <label>Assigned Roles</label>\r\n          <div class="card overFlow" style="height:400px;">\r\n            <ul class="list-group">\r\n              <button click.trigger="removeRole($index, role)" \r\n                repeat.for="role of people.selectedPerson.roles" type="button" class="list-group-item">${role | lookupValue:config.ROLES:\'role\':\'label\'}</button>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n</template'},"modules/admin/Customers/components/userInfo.html":function(e,t){e.exports='<template>\r\n    <form>\r\n        <div class="row">\r\n            <div class="col">\r\n                <div class="form-group">\r\n                    <label for="firstName">First Name *</label>\r\n                    <input value.bind="people.selectedPerson.firstName & validateOnChange" type="text" class="form-control" id="firstName"\r\n                        aria-describedby="firstNameHelp">\r\n                </div>\r\n            </div>\r\n            <div class="col">\r\n                <div class="form-group">\r\n                    <label for="middleName">Middle Name</label>\r\n                    <input value.bind="people.selectedPerson.middleName" type="text" class="form-control"\r\n                        id="middleName" aria-describedby="middleNameHelp">\r\n                </div>\r\n            </div>\r\n            <div class="col">\r\n                <div class="form-group">\r\n                    <label for="lastName">Last Name *</label>\r\n                    <input value.bind="people.selectedPerson.lastName & validateOnChange" type="text" class="form-control" id="lastName"\r\n                        aria-describedby="lastNameHelp">\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="row topMargin">\r\n            <div class="col">\r\n                <div class="form-group">\r\n                    <label for="nickName">Preferred Name</label>\r\n                    <input value.bind="people.selectedPerson.nickName" type="text" class="form-control" id="nickName">\r\n                </div>\r\n            </div>\r\n            <div class="col">\r\n                <div class="form-group">\r\n                    <label for="editStatus">Status *</label>\r\n                    <select value.bind="people.selectedPerson.personStatus & validateOnChange" id="editStatus" class="form-control topMargin"\r\n                        data-style="btn btn-link">\r\n                        <option value="">Select an option</option>\r\n                        <option repeat.for=\'status of is4ua.personStatusArray\' value="${status.code}">\r\n                            ${status.description}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class="col">\r\n                <div class="form-group">\r\n                    <label for="editMobile">Mobile</label>\r\n                    <input if.bind="phoneMask" class="form-control" id="editMobile"\r\n                        masked="value.bind: people.selectedPerson.mobile  & validateOnChange; mask.bind: phoneMask; placeholder: *" />\r\n                    <input if.bind="!phoneMask" class="form-control" id="editMobile"\r\n                        value.bind="people.selectedPerson.mobile" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="row topMargin">\r\n            <div class="col">\r\n                <div class="form-group">\r\n                    <label for="editPhone">Phone *</label>\r\n                    <input if.bind="phoneMask" class="form-control" id="editPhone"\r\n                        masked="value.bind: people.selectedPerson.phone  & validateOnChange; mask.bind: phoneMask; placeholder: *" />\r\n                    <input if.bind="!phoneMask" class="form-control" id="editPhone"\r\n                        value.bind="people.selectedPerson.phone  & validateOnChange" />\r\n                </div>\r\n            </div>\r\n            <div class="col">\r\n                <div class="form-group">\r\n                    <label for="editExtension">Extension</label>\r\n                    <input value.bind="people.selectedPerson.ext" type="text" class="form-control" id="editExtension"\r\n                        aria-describedby="extHelp">\r\n                </div>\r\n            </div>\r\n            <div class="col">\r\n                <div class="form-group">\r\n                    <label for="editEmail">Email *</label>\r\n                    <input value.bind="people.selectedPerson.email & validateOnChange" type="text" class="form-control" id="editEmail"\r\n                        aria-describedby="emailHelp">\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="row topMargin">\r\n            <div class="col">\r\n                <div class="form-group">\r\n                    <label for="editPhone">Institution *</label>\r\n                    <select value.two-way="people.selectedPerson.institutionId  & validateOnChange" id="editInstitution"\r\n                        class="form-control topMargin">\r\n                        <option value="">Select an option</option>\r\n                        <option repeat.for="institution of people.institutionsArray" value="${institution._id}">\r\n                            ${institution.name}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class="col">\r\n                <div class="form-group">\r\n                    <label for="editSpecialization">Specialization</label>\r\n                    <select value.two-way="people.selectedPerson.personSpecialization" id="editSpecialization"\r\n                        class="form-control topMargin">\r\n                        <option value="">Select an option</option>\r\n                        <option repeat.for="name of is4ua.specialArray" value="${name.code}">${name.description}\r\n                        </option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class="col">\r\n                <div class="form-group" style="height:200px;">\r\n                    <label for="editDepartment">Department</label>\r\n                    <select value.two-way="people.selectedPerson.departmentCategory" id="editDepartment"\r\n                        class="form-control topMargin">\r\n                        <option value="">Select an option</option>\r\n                        <option repeat.for="name of is4ua.deptArray" value="${name.code}">${name.description}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </form>\r\n</template>'},"modules/admin/Customers/components/youHaveErrorsModal.html":function(e,t){e.exports='<template>\r\n    <div class="modal fade" id="fixErrors" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">\r\n        <div class="modal-dialog" role="document">\r\n          <div class="modal-content">\r\n            <div class="modal-header">\r\n              <h5 class="modal-title" id="exampleModalLabel">Fix All Errors</h5>\r\n              <button type="button" class="close" data-dismiss="modal" aria-label="Close">\r\n                <span aria-hidden="true">&times;</span>\r\n              </button>\r\n            </div>\r\n            <div class="modal-body">\r\n              You can\'t save a record with validation errors?\r\n            </div>\r\n            <div class="modal-footer">\r\n              <button type="button" class="btn btn-primary" data-dismiss="modal">OK</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n</template>'},"modules/admin/Customers/customers":function(e,t,r){"use strict";r.r(t),r.d(t,"Customers",(function(){return i}));var n,s=r("aurelia-framework"),a=r("4ysu"),i=Object(s.inject)(a.c)(n=function(){function e(e){this.router=e,this.pageTitle="Customers"}return e.prototype.configureRouter=function(e,t){e.map([{route:["","editPeople"],moduleId:"./editPeople",settings:{auth:!0,roles:[]},nav:!0,name:"editPeople",title:"People"},{route:"editInstitutions",moduleId:"./editInstitutions",settings:{auth:!0,roles:[]},nav:!0,name:"editInstitutions",title:"Institutions"},{route:"bulkEmails",moduleId:"./bulkEmails",settings:{auth:!0,roles:[]},nav:!0,name:"bulkEmails",title:"Bulk Emails"}]),this.router=t},e}())||n},"modules/admin/Customers/customers.html":function(e,t,r){e.exports='<template>\r\n    <compose view="../../../resources/elements/top-bar.html"></compose>\r\n    <div class="content" style="margin-top:200px;">\r\n        <div class="container-fluid">\r\n            <router-view></router-view>\r\n        </div>\r\n    </div>\r\n</template>'},"modules/admin/Customers/editInstitutions":function(e,t,r){"use strict";r.r(t),r.d(t,"EditInstitutions",(function(){return n}));var n=function(){}},"modules/admin/Customers/editInstitutions.html":function(e,t){e.exports="<template>\r\n    \r\n</template>"},"modules/admin/Customers/editPeople":function(e,t,r){"use strict";r.r(t),r.d(t,"EditPeople",(function(){return P}));var n,s=r("aurelia-framework"),a=r("aurelia-validation"),i=r("R4nB"),o=r("nxgs");function l(e,t,r,n,s,a,i){try{var o=e[a](i),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(n,s)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var a=e.apply(t,r);function i(e){l(a,n,s,i,o,"next",e)}function o(e){l(a,n,s,i,o,"throw",e)}i(void 0)}))}}var u,d=Object(s.inject)(i.a,o.a)(n=function(){function e(e,t){this.UCC_STAFF_SERVICE="uccStaff",this.PEOPLE_SERVICE="people",this.PERSON_REGISTER="people/register",this.CHECK_EMAIL="people/checkEmail",this.CHECK_NAME="people/checkName",this.SEND_MAIL="people/sendMail",this.PASSWORD_RESET="passwordReset",this.NOTES_SERVICE="notes",this.TECHNOTES_SERVICE="techNotes",this.TECHNOTESCAT_SERVICE="technotecats",this.INSTITUTION_SERVICES="institutions",this.COURSES_SERVICE="courses",this.PEOPLE_UPLOAD_SERVICE="/people/upload/",this.NOTIFICATION_SERVICE="notifications",this.PACKAGES_SERVICES="apj/packages",this.data=e,this.utils=t}var t=e.prototype;return t.getPeopleArray=function(){var e=c(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.PEOPLE_SERVICE,r+=t||"",e.prev=2,e.next=5,this.data.get(r);case 5:(n=e.sent).error?this.data.processError(n):this.peopleArray=n,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),t.getPerson=function(){var e=c(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.PEOPLE_SERVICE+"/"+t,e.prev=1,e.next=4,this.data.get(r);case 4:(n=e.sent).error?this.data.processError(n):(this.selectedPerson=n,this.originalPerson=this.utils.copyObject(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),t.selectPerson=function(e,t){void 0===e?this.selectedPerson=this.emptyPerson():t&&"i"===t?(this.selectedPerson=this.utils.copyObject(this.instutionPeopleArray[e]),this.editIndex=e):(this.selectedPerson=this.utils.copyObject(this.peopleArray[e]),this.editIndex=e)},t.selectedPersonById=function(e,t){var r=this;return t&&"i"===t?void this.instutionPeopleArray.forEach((function(t,n){t._id===e&&(r.editIndex=n,r.selectedPerson=r.utils.copyObject(t))})):void this.peopleArray.forEach((function(t,n){t._id===e&&(r.editIndex=n,r.selectedPerson=r.utils.copyObject(t))}))},t.setSelectedPerson=function(e){e&&(this.selectedPerson=this.utils.copyObject(e))},t.emptyPerson=function(){var e=new Object;e.lastName="",e.firstName="",e.middleName="",e.nickName="",e.status="",e.phone="",e.mobile="",e.email="",e.gender="",e.roles=new Array,e.roles.push("USER"),e.password="",e.institution="",e.active=!1,e.coursesArray=new Array,e.file=new Object;var t={property:"Created",eventDate:new Date};return e.audit=[t],e},t.savePerson=function(){var e=c(regeneratorRuntime.mark((function e(t){var r,n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.selectedPerson._id){e.next=9;break}return r=t?this.PERSON_REGISTER:this.PEOPLE_SERVICE,e.next=4,this.data.saveObject(this.selectedPerson,r,"post");case 4:return(n=e.sent).error?this.data.processError(n,"There was an error creating the account."):this.peopleArray&&this.peopleArray.push(n),e.abrupt("return",n);case 9:return e.next=11,this.data.saveObject(this.selectedPerson,this.PEOPLE_SERVICE,"put");case 11:return(s=e.sent).error||this.peopleArray&&(this.peopleArray[this.editIndex]=this.utils.copyObject(this.selectedPerson,this.peopleArray[this.editIndex])),e.abrupt("return",s);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.isPersonDirty=function(){if(this.selectedPerson)return this.utils.objectsEqual(this.selectedPerson,this.originalPerson)},t.deletePerson=function(){var e=c(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.selectedPerson._id){e.next=5;break}return e.next=3,this.data.deleteObject(this.PEOPLE_SERVICE+"/"+this.selectedPerson._id);case 3:return t=e.sent,e.abrupt("return",t);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.updatePassword=function(e){if(this.selectedPerson._id)return this.data.saveObject(e,this.PEOPLE_SERVICE+"/password/"+this.selectedPerson._id,"put")},t.getInstitutionsArray=function(){var e=c(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.INSTITUTION_SERVICES,r+=t||"",e.next=4,this.data.get(r);case 4:(n=e.sent).error?this.institutionsArray=void 0:this.institutionsArray=n;case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.getAPJPackages=function(){var e=c(regeneratorRuntime.mark((function e(t,r){var n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.packageArray&&!r){e.next=7;break}return n=this.PACKAGES_SERVICES,n+=t||"",e.next=5,this.data.get(n);case 5:(s=e.sent).error?this.packageArray=void 0:this.packageArray=s;case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),t.getInstitution=function(){var e=c(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=this.INSTITUTION_SERVICES+"/"+t,e.next=4,this.data.get(r);case 4:(n=e.sent).status?this.data.processError(serverResponse):(this.selectedInstitution=n,this.originalInstitution=this.utils.copyObject(serverResponse)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),e}())||n;function p(e,t,r,n,s,a,i){try{var o=e[a](i),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(n,s)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var a=e.apply(t,r);function i(e){p(a,n,s,i,o,"next",e)}function o(e){p(a,n,s,i,o,"throw",e)}i(void 0)}))}}var m,f=Object(s.inject)(i.a)(u=function(){function e(e){this.data=e}var t=e.prototype;return t.loadIs4ua=function(){var e=h(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data.get(this.data.IS4UA);case 2:t=e.sent,this.personStatusArray=t[0].personStatus,this.deptArray=t[0].deptCat,this.specialArray=t[0].personSpecialization,this.sapProductsArray=t[0].sapProducts,this.uaCurriculumArray=t[0].uaCurriculum,this.uaDataSetsArray=t[0].uaDatasets,this.institutonStatusArray=t[0].institutionStatus,this.institutionTypes=t[0].institutionTypes,this.memberTypes=t[0].memberTypes,this.highestDegrees=t[0].highestDegree;case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.loadProductKeys=function(){var e=h(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.data.getAllObjects(this.data.SAP_PRODUCTS),this.data.getAllObjects(this.data.UA_CURRICULUM),this.data.getAllObjects(this.data.UA_DATA_SETS)]);case 2:t=e.sent,this.sapProductsArray=t[0],this.uaCurriculumArray=t[1],this.uaDataSetsArray=t[2];case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.loadPeopleKeys=function(){var e=h(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.data.getAllObjects(this.data.UA_PERSON_STATUS),this.data.getAllObjects(this.data.UA_PERSON_DEPT),this.data.getAllObjects(this.data.UA_PERSON_SPECIAL)]);case 2:t=e.sent,this.personStatusArray=t[0],this.deptArray=t[1],this.specialArray=t[2];case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.loadInstitutionKeys=function(){var e=h(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.data.getAllObjects(this.data.UA_INST_STATUS),this.data.getAllObjects(this.data.UA_INST_TYPES),this.data.getAllObjects(this.data.UA_MEMBER_TYPES),this.data.getAllObjects(this.data.UA_INST_DEGREES)]);case 2:t=e.sent,this.institutonStatusArray=t[0],this.institutionTypes=t[1],this.memberTypes=t[2],this.highestDegrees=t[3];case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e}())||u,v=r("+bNA"),g=r("B6RA"),b=r("cMTQ");function y(e,t,r,n,s,a,i){try{var o=e[a](i),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(n,s)}function w(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var a=e.apply(t,r);function i(e){y(a,n,s,i,o,"next",e)}function o(e){y(a,n,s,i,o,"throw",e)}i(void 0)}))}}var P=Object(s.inject)(a.ValidationControllerFactory,d,f,v.a,g.a,o.a,b.a)(m=function(){function e(e,t,r,n,s,a,i){this.pageSize=50,this.defaultPhoneMask="999-999-9999",this.controller=e.createForCurrentScope(),this.people=t,this.is4ua=r,this.config=n,this.store=s,this.utils=a,this.validation=i,this.configParameters=this.store.getConfig(),this.filters=[{value:"",keys:["fullName","institutionId.name","email","roles"]},{value:this.config.ACTIVE_PERSON,keys:["personStatus"]}],this.validationErrors=[],this.view="table"}var t=e.prototype;return t.activate=function(){var e=w(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.people.getPeopleArray("?order=lastName"),this.is4ua.loadIs4ua(),this.people.getInstitutionsArray("?order=name")]);case 2:e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.attached=function(){$("#filterField").focus(),$('[data-toggle="tooltip"]').tooltip()},t.refresh=function(){var e=w(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.clearFilters(),$("#loading").show(),e.next=4,this.people.getPeopleArray("?order=lastName");case 4:$("#loading").hide();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.new=function(){this.people.selectPerson(),this.createValidationRules(),this.getPhoneMask(),this.view="form"},t.edit=function(){var e=w(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.selectedPersonId=t._id,e.next=3,this.people.getPerson(t._id);case 3:this.createValidationRules(),this.getPhoneMask(),this.filterRoles(),this.view="form";case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.createValidationRules=function(){a.validationMessages.required="You must enter ${$displayName}.",a.ValidationRules.ensure("firstName").displayName("a First Name").required().ensure("lastName").displayName("a Last Name").required().ensure("email").displayName("an eMail").required().ensure("phone").displayName("a Phone Number").required().minLength(10).ensure("mobile").displayName("a mobile Number").minLength(10).ensure("personStatus").displayName("a Status").required().ensure("institutionId").displayName("an institution").required().on(this.people.selectedPerson),a.ValidationRules.ensure("newPassword").displayName("Password").required()},t.save=function(){var e=w(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.controller.validate().then((function(e){e.valid?t.savePerson():$("#fixErrors").modal()}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.savePerson=function(){var e=w(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.localValidation(),0!==this.validationErrors.length){e.next=9;break}return e.next=4,this.people.savePerson();case 4:(t=e.sent).error?this.utils.showNotification("There was a problem saving the person","error"):(this.utils.showNotification(t.firstName+" "+t.lastName+" was updated"),this.refresh()),this._cleanUp(),e.next=10;break;case 9:$("#fixErrors").modal();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.delete=function(){var e=this;return this.dialog.showMessage("Are you sure you want to delete the person?","Delete Person",["Yes","No"]).whenClosed((function(t){t.wasCancelled||e.deletePerson()}))},t.deletePerson=function(){var e=w(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.people.selectedPerson.fullName,e.next=3,this.people.deletePerson();case 3:e.sent.error||(this.utils.showNotification(t+" was deleted"),this.refresh()),this._cleanUp();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.back=function(){this.people.isPersonDirty(this.people.selectedPerson).length?$("#personChanged").modal():this.goBack()},t.goBack=function(){this.view="table"},t.cancel=function(){this.people.selectedPersonById(this.selectedPersonId)},t.downloadInstExcel=function(){var e="data:text/csv;charset=utf-8;,First Name,Last Name,Email,Phone,Institution,Country,Region,Status,Roles\r\n";this.dataTable.baseArray.forEach((function(t){var r="01"==t.personStatus?"Active":"Inactive";e+=t.firstName+","+t.lastName.replace(","," ")+","+t.email+","+t.phone+","+t.institutionId.name.replace(","," ")+","+t.country+","+t.region+","+r+","+t.roles.join(":"),e+="\r\n"}));var t=encodeURI(e),r=document.createElement("a");r.setAttribute("href",t),r.setAttribute("download","people.csv"),document.body.appendChild(r),r.click()},t.clearFilters=function(){this.filters[0].value="",this.filters[1].value=this.config.ACTIVE_PERSON,$("#filterField").focus()},t._cleanUp=function(){this.institutionId="",this.clearFilters(),this.goBack()},t.localValidation=function(){this.checkDuplicateRecord()},t.checkDuplicateRecord=function(){for(var e=!1,t=0;t<this.people.peopleArray.length;t++)this.people.peopleArray[t].firstName.trim().toUpperCase()===this.people.selectedPerson.firstName.trim().toUpperCase()&&this.people.peopleArray[t].lastName.trim().toUpperCase()===this.people.selectedPerson.lastName.trim().toUpperCase()&&this.people.peopleArray[t].institutionId._id===this.people.selectedPerson.institutionId&&(this.people.selectedPerson._id&&this.people.selectedPerson._id!=this.people.peopleArray[t]._id?e=!0:this.people.selectedPerson._id||(e=!0));this.addValidationError("A person with that name at that institution already exists.",e)},t.checkPasswordBlank=function(){this.newPassword=$("#newPassword").val(),this.addValidationError("You must enter a password.",0===this.newPassword.length)},t.addValidationError=function(e,t){if(t)-1===this.validationErrors.indexOf(e)&&this.validationErrors.push(e);else{var r=this.validationErrors.indexOf(e);r>-1&&this.validationErrors.splice(r,1)}},t.toggleStatus=function(){var e=w(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!r){e.next=7;break}return this.people.selectedPersonById(t),this.people.selectedPerson.personStatus=r===this.config.ACTIVE_PERSON?this.config.INACTIVE_PERSON:this.config.ACTIVE_PERSON,e.next=5,this.people.savePerson();case 5:(n=e.sent).error?this.utils.showNotification("There was a problem saving the person","error"):this.utils.showNotification(n.firstName+" "+n.lastName+" was updated");case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),t.copyInstAddress=function(){var e=w(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.people.selectedPerson.institutionId){e.next=11;break}return e.next=3,this.people.getInstitution(this.people.selectedPerson.institutionId);case 3:this.people.selectedPerson.address1=this.people.selectedInstitution.address1,this.people.selectedPerson.address2=this.people.selectedInstitution.address2,this.people.selectedPerson.city=this.people.selectedInstitution.city,this.people.selectedPerson.region=this.people.selectedInstitution.region,this.people.selectedPerson.postalCode=this.people.selectedInstitution.postalCode,this.people.selectedPerson.country=this.people.selectedInstitution.country,this.people.selectedPerson.POBox=this.people.selectedInstitution.POBox,this.getPhoneMask();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.getPhoneMask=function(){var e=this;this.phoneMask=this.defaultPhoneMask,setTimeout((function(){for(var t=0;t<e.config.PHONE_MASKS.length;t++)if(e.people.selectedPerson.country===e.config.PHONE_MASKS[t].country){e.phoneMask=e.config.PHONE_MASKS[t].mask;break}}),500)},t.filterRoles=function(){var e=this;this.filteredArray=this.configParameters.ROLES.filter((function(t){return-1===e.people.selectedPerson.roles.indexOf(t.role)})),0===this.filteredArray.length&&this.filteredArray.push({role:"NOROLE",label:"No Roles Remaining"})},t.selectRole=function(e,t){"NOROLE"!==t.role&&(this.people.selectedPerson.roles.push(t.role),this.filterRoles())},t.removeRole=function(e,t){this.people.selectedPerson.roles.splice(e,1),this.filterRoles()},t.cancelEditPassword=function(){this.newPassword="",this.newPassword_repeat="",this.showPassword=!1},t.savePassword=function(){var e=w(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.checkPasswordBlank(),0!==this.validationErrors.length){e.next=7;break}return t={password:this.newPassword},e.next=5,this.people.updatePassword(t);case 5:e.sent.error||(this.utils.showNotification("The password was updated"),this.newPassword="");case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e}())||m},"modules/admin/Customers/editPeople.html":function(e,t,r){e.exports='<template>\r\n    \x3c!-- <span id="loading">\r\n        <ul class="bokeh">\r\n            <li></li>\r\n            <li></li>\r\n            <li></li>\r\n        </ul>\r\n    </span> --\x3e\r\n    <div show.bind="view === \'table\'">\r\n        <compose view="./components/peopleTable.html"></compose>\r\n    </div>\r\n    <div show.bind="view === \'form\'">\r\n        <compose view="./components/peopleForm.html"></compose>\r\n    </div>\r\n</template>'},"modules/user/user":function(e,t,r){"use strict";r.r(t),r.d(t,"User",(function(){return n}));var n=function(){this.pageTitle="Home"}},"modules/user/user.html":function(e,t){e.exports='<template>\r\n    <top-bar></top-bar>\r\n    <div class="content" style="margin-top:200px;">\r\n       <div class="container-fluid">\r\n          <h1>Nothing to see here folks, move along.</h1>\r\n          <h4>Working pages</h4>\r\n          <ul>\r\n              <li>Customers</li>\r\n          </ul>\r\n       </div>\r\n    </div>\r\n</template>'},nxgs:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("aurelia-framework");var n=function(){function e(){}var t=e.prototype;return t.showNotification=function(e,t){$("#notification").html(e).fadeIn(1500).fadeOut(5e3)},t.countItems=function(e,t,r){return r.filter((function(r){return r[t]==e})).length},t.arrayContainsValue=function(e,t,r){for(var n=0,s=e.length;n<s;n++)if(e[n][t]==r)return n;return-1},t.objectsEqual=function(e,t,r){var n=new Array,s=r||new Array;for(var a in e)if(e.hasOwnProperty(a)){if(!e[a]&&!t[a]||-1!==s.indexOf(a))continue;if(Array.isArray(e[a]))this.arraysEqual(e[a],t[a])||n.push({property:a,oldValue:t[a].length,newValue:e[a].length});else if(a.indexOf("Date")>-1||a.indexOf("date")>-1||e[a]instanceof Date){var i=new Date(e[a]),o=new Date(t[a]);moment(i).isSame(o,"year")&&moment(i).isSame(o,"month")&&moment(i).isSame(o,"day")||n.push({property:a,oldValue:t[a],newValue:e[a]})}else if("object"==typeof e[a]){var l=!0;for(var c in e[a])e[a][c]!=t[a][c]&&(l=!1);l||n.push({property:a,oldValue:t[a],newValue:e[a]})}else e[a]!=t[a]&&(""===e[a]&&void 0===t[a]||n.push({property:a,oldValue:t[a],newValue:e[a]}))}return n},t.arraysEqual=function(e,t){if(e.length!=t.length)return!1;for(var r=new Array,n=0;n<e.length;n++)r[n]=JSON.stringify(e[n]);for(n=0;n<e.length;n++)if(-1==r.indexOf(JSON.stringify(t[n])))return!1;return!0},t.copyObject=function(e,t,r){if(t=t||new Object,r)for(var n=0,s=r.length;n<s;n++)e.hasOwnProperty(r[n])&&(Array.isArray(e[a])?t[a]=this.copyArray(e[a]):e[a]instanceof Date?t[a]=e[a]:this.isObject(e[a])?t[a]=this.copyObject(e[a]):t[a]=e[a]);else for(var a in e)e.hasOwnProperty(a)&&(Array.isArray(e[a])?t[a]=this.copyArray(e[a]):e[a]instanceof Date?t[a]=e[a]:this.isObject(e[a])?t[a]=this.copyObject(e[a]):t[a]=e[a]);return t},t.copyArray=function(e){var t=this;if(e){var r=new Array;return e.forEach((function(e){Array.isArray(e)?r.push(t.copyArray(e)):t.isObject(e)?r.push(t.copyObject(e)):r.push(e)})),r}return null},t.isObject=function(e){return e===Object(e)},e}()},"resources/css/styles.css":function(e,t,r){(t=r("JPst")(!1)).push([e.i,".navbar-nav .active {\r\n    text-decoration: underline;\r\n}\r\n\r\n.page-item .active {\r\n    background-color: blue !important;\r\n}\r\n\r\n.nav-link {\r\n    color: white;\r\n}\r\n\r\n.btn-link {\r\n    color: white;\r\n}\r\n\r\n.topMargin {\r\n    margin-top: 25px;\r\n}\r\n\r\n.smallTopMargin {\r\n  margin-top: 5px;\r\n}\r\n\r\n.bottomMargin {\r\n    margin-bottom: 25px;\r\n}\r\n\r\n.leftMargin {\r\n    margin-left: 25px;\r\n}\r\n\r\n.rightMargin {\r\n  margin-right: 25px;\r\n}\r\n\r\n.smallLeftMargin {\r\n    margin-left: 10px;\r\n}\r\n\r\n.bigTopMargin {\r\n    margin-top: 50px;\r\n}\r\n\r\n.bigLeftMargin {\r\n    margin-left: 50px;\r\n}\r\n\r\n.smallMarginTop {\r\n    margin-top: 5px;\r\n}\r\n\r\n.smallMarginRight {\r\n    margin-right: 10px;\r\n}\r\n\r\n.overFlow {\r\n    overflow-y:scroll;\r\n}\r\n\r\n  .positionUnderToolbar {\r\n    top:-110px;\r\n  }\r\n\r\n  span i {\r\n    cursor: pointer;\r\n}\r\n\r\n\r\nthead, tbody { display: block; }\r\n\r\ntbody {\r\n    height: 1000px;       /* Just for the demo          */\r\n    overflow-y: auto;    /* Trigger vertical scroll    */\r\n    overflow-x: hidden;  /* Hide the horizontal scroll */\r\n}",""]),e.exports=t},"resources/elements/nav-bar":function(e,t,r){},"resources/elements/nav-bar.html":function(e,t){e.exports='<template>\r\n  <nav class="navbar navbar-expand-sm bg-dark navbar-dark">\r\n    <a class="navbar-brand" href="#">Navbar</a>\r\n    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"\r\n      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">\r\n      <span class="navbar-toggler-icon"></span>\r\n    </button>\r\n    <div class="collapse navbar-collapse" id="navbarSupportedContent">\r\n      <form if.bind="!isAuthenticated && !passwordReset" class="form-inline">\r\n        <div class="form-group">\r\n          <input value.bind="email" type="email" autofocus class="form-control" id="email" placeholder="Email"></input>\r\n        </div>\r\n        <div class="form-group">\r\n          <input value.bind="password" type="password" class="form-control smallLeftMargin" id="password"\r\n            placeholder="Password"></input>\r\n        </div>\r\n        <button class="btn btn-default smallLeftMargin" click.delegate=\'login()\'>Login</button>\r\n        <button class="btn btn-link" click.delegate="requestPasswordReset()">Forgot password</button\r\n        <label if.bind="loginError" style="color:white;">${loginError}</label>\r\n      </form>\r\n\r\n      <ul class="navbar-nav mr-auto">\r\n        <li class="nav-item dropdown">\r\n          <a if.bind="userObj.userRole >= config.UCC_ROLE && isAuthenticated" href="#" class="nav-link dropdown-toggle"\r\n            data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Administration <span\r\n              class="caret"></span></a>\r\n          <div class="dropdown-menu">\r\n            <a class="dropdown-item" href="#/system">System Admin</a>\r\n            <a class="dropdown-item" href="#/customers">Customers</a>\r\n            <a class="dropdown-item" href="#/site">Site</a>\r\n            <a class="dropdown-item" href="#/documents">Documents</a>\r\n            <a class="dropdown-item" href="#/inventory">Inventory</a>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n\r\n      <form class="form-inline">\r\n        <a class="nav-link" if.bind="!isAuthenticated" href="#/register">Register</a></li>\r\n        <a class="nav-link" href="#/about" style="color:white;">About the UCC</a></li>\r\n        <a class="nav-link" if.bind="isAuthenticated" click.trigger="logout()" href="#">Logout</a></li>\r\n      </form>\r\n\r\n    </div>\r\n  </nav>\r\n</template>'},"resources/elements/side-bar":function(e,t,r){"use strict";r.r(t),r.d(t,"SideBar",(function(){return h}));var n,s=r("aurelia-framework"),a=r("4ysu"),i=r("aurelia-event-aggregator"),o=r("G0rb"),l=r("+bNA"),c=r("nxgs"),u=r("B6RA");function d(e,t,r,n,s,a,i){try{var o=e[a](i),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(n,s)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var a=e.apply(t,r);function i(e){d(a,n,s,i,o,"next",e)}function o(e){d(a,n,s,i,o,"throw",e)}i(void 0)}))}}var h=Object(s.inject)(o.a,l.a,a.c,c.a,i.a,s.Aurelia,u.a)(n=function(){function e(e,t,r,n,s,a,i){this.auth=e,this.router=r,this.utils=n,this.aurelia=a,this.config=t,this.eventAggregator=s,this.store=i,this.userObj=this.store.getUser("user"),this.isAuthenticated=this.auth.isAuthenticated(),this.sideBarVisible=!0,this.pageTitle="Customers"}var t=e.prototype;return t.login=function(){var e=p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth.login(this.email,this.password);case 2:e.sent.error?this.loginError="Invalid credentials.":(this.loginError="",this.loginSuccess(),this.isAuthenticated=this.auth.isAuthenticated());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.logout=function(){this.auth.logout(),this.isAuthenticated=this.auth.isAuthenticated(),this.aurelia.setRoot("home")},t.loginSuccess=function(){var e=p(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.userObj=this.store.getUser("user"),!this.userObj){e.next=16;break}if(this.userObj.institutionId.institutionStatus===this.config.INSTITUTIONS_ACTIVE){e.next=7;break}this.utils.showNotification("You must belong to an active institution to access the web site"),this.logout(),e.next=14;break;case 7:if(this.userObj.personStatus===this.config.ACTIVE_PERSON){e.next=11;break}return e.abrupt("return",this.dialog.showMessage("You must have an active account to access the web site.  Contact your faculty coordinator to activate your account.","Account Not Active",["OK"]).whenClosed((function(e){t.logout()})));case 11:this.userObj.userRole||this.logout(),this.store.setUserRole(this.userObj.userRole),this.router.navigate("user");case 14:e.next=18;break;case 16:this.utils.showNotification("There was a problem validating your account"),this.router.navigate("home");case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.requestPasswordReset=function(){var e=p(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.email){e.next=7;break}return e.next=3,this.people.requestPasswordReset({email:this.email});case 3:(t=e.sent)&&!t.error?this.utils.showNotification("An email has been sent to the provided email address with a link you can use to reset your password"):(t.status=404)?this.utils.showNotification("There is no registered user with that email address"):(t.status=401)&&this.utils.showNotification("The account with the provided address has been deactivated.  Please contact your faculty coordinator."),e.next=8;break;case 7:this.utils.showNotification("Please enter an email address");case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e}())||n},"resources/elements/side-bar.html":function(e,t,r){e.exports='<template>\r\n \r\n    <div class="sidebar" data-color="rose" data-background-color="black" data-image="../assets/img/sidebar-1.jpg">\r\n      \x3c!--\r\n          Tip 1: You can change the color of the sidebar using: data-color="purple | azure | green | orange | danger"\r\n  \r\n          Tip 2: you can also add an image using data-image tag\r\n      --\x3e\r\n      <div class="logo"><a href="http://www.creative-tim.com" class="simple-text logo-mini">\r\n          CT\r\n        </a>\r\n        <a href="http://www.creative-tim.com" class="simple-text logo-normal">\r\n          UCCSS\r\n        </a>\r\n      </div>\r\n      <div class="sidebar-wrapper">\r\n        <div class="user">\r\n          <div class="photo">\r\n\r\n          </div>\r\n          <div class="user-info">\r\n            <a data-toggle="collapse" href="#collapseExample" class="username">\r\n              <span>\r\n                ${userObj.fullName}\r\n                <b class="caret"></b>\r\n              </span>\r\n            </a>\r\n            <div class="collapse" id="collapseExample">\r\n              <ul class="nav">\r\n                <li class="nav-item">\r\n                  <a class="nav-link" href="#">\r\n                    <span class="sidebar-normal"> My Profile </span>\r\n                  </a>\r\n                </li>\r\n                <li class="nav-item">\r\n                  <a class="nav-link" click.trigger="logout()">\r\n                    <span class="sidebar-normal"> Logoff </span>\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ul class="nav">\r\n          <li class="nav-item ">\r\n            <a class="nav-link" href="#/user">\r\n              <i class="material-icons">dashboard</i>\r\n              <p> Home </p>\r\n            </a>\r\n          </li>\r\n          <li class="nav-item ">\r\n            <a class="nav-link" data-toggle="collapse" href="#pagesExamples">\r\n              <i class="material-icons">image</i>\r\n              <p> Administration\r\n                <b class="caret"></b>\r\n              </p>\r\n            </a>\r\n            <div class="collapse" id="pagesExamples">\r\n              <ul class="nav">\r\n                <li class="nav-item">\r\n                  <a class="nav-link" href="#/system"><span class="sidebar-normal">System Admin</span></a>\r\n                </li>\r\n                <li class="nav-item">\r\n                  <a class="nav-link" href="#/customers"><span class="sidebar-normal">Customers</span></a>\r\n                </li>\r\n                <li class="nav-item">\r\n                  <a class="nav-link" href="#/site"><span class="sidebar-normal">Site</span></a>\r\n                </li>\r\n                <li class="nav-item">\r\n                  <a class="nav-link" href="#/documents"><span class="sidebar-normal">Documents</span></a>\r\n                </li>\r\n                <li class="nav-item">\r\n                  <a class="nav-link" href="#/inventory"><span class="sidebar-normal">Inventory</span></a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </li>\r\n          <li class="nav-item ">\r\n            <a class="nav-link" href="#/sidebar/documents">\r\n              <i class="material-icons">image</i>\r\n              <p> Documents\r\n              </p>\r\n            </a>\r\n          </li>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  \x3c!-- <div class="main-panel">\r\n    <compose view="./top-bar.html"></compose>\r\n    <div class="container-fluid" style="padding-top:200px;">\r\n      <div class="content">\r\n        <router-view></router-view>\r\n      </div>\r\n    </div>\r\n  </div> --\x3e\r\n \r\n</template>'},"resources/elements/table-nav-bar.html":function(e,t){e.exports='<template>\r\n    <div class="row">\r\n        <div class="col-2">\r\n            <div>\r\n                <label style="padding-left:15px;" class="pull-left">Records: ${totalItems}</label>\r\n            </div>\r\n        </div>\r\n        <div class="col-7 d-flex justify-content-center">\r\n            <aut-pagination current-page.bind="currentPage" page-size.bind="pageSize"\r\n                total-items.bind="totalItems" pagination-size.bind="5" boundary-links.bind="true">\r\n                <template replace-part="pagination">\r\n                    <nav>\r\n                        <ul class="pagination" hide.bind="hideSinglePage && totalPages === 1">\r\n                            <li class="page-item">\r\n                                <a aria-label="Previous" click.delegate="previousPage()"\r\n                                    class-name.bind="currentPage === 1 ? \'disabled page-link\' : \'page-link\'">\r\n                                    <span aria-hidden="true"></span>\r\n                                </a>\r\n                            </li>\r\n\r\n                            <li class="page-item" repeat.for="page of displayPages">\r\n                                <a click.delegate="selectPage(page.value)"\r\n                                    class-name.bind="currentPage === page.value ? \'active page-link\' : \'page-link\'">\r\n                                    ${page.title}\r\n                                </a>\r\n                            </li\r\n\r\n                            <li class="page-item">\r\n                                <a aria-label="Next" click.delegate="nextPage()"\r\n                                    class-name.bind="currentPage === totalPages ? \'disabled page-link\' : \'page-link\'">\r\n                                    <span aria-hidden="true"></span>\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                    </nav>\r\n                </template>\r\n            </aut-pagination>\r\n        </div>\r\n\r\n        <div class="col-3">\r\n            <div class="form-inline pull-right">\r\n                <div class="form-group">\r\n                    <label for="pageSize">Page Size: </label>\r\n                    <select value.bind="pageSize" id="pageSize" class="form-control smallLeftMargin">\r\n                        <option model.bind="5">5</option>\r\n                        <option model.bind="10">10</option>\r\n                        <option model.bind="20">20</option>\r\n                        <option model.bind="50">50</option>\r\n                        <option model.bind="200">200</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</template>'},"resources/elements/top-bar":function(e,t,r){"use strict";r.r(t),r.d(t,"TopBar",(function(){return i}));var n,s=r("aurelia-framework"),a=(r("4ysu"),r("G0rb")),i=Object(s.inject)(a.a)(n=function(){function e(e){this.auth=e}return e.prototype.logout=function(){this.auth.logout(),this.isAuthenticated=this.auth.isAuthenticated(),this.router.navigate("home")},e}())||n},"resources/elements/top-bar.html":function(e,t){e.exports='<template>\r\n    <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute ">\r\n        <div class="container-fluid">\r\n          <div class="navbar-wrapper">\r\n            <div class="navbar-minimize">\r\n              <button id="minimizeSidebar" class="btn btn-just-icon btn-white btn-fab btn-round">\r\n                <i class="material-icons text_align-center visible-on-sidebar-regular">more_vert</i>\r\n                <i class="material-icons design_bullet-list-67 visible-on-sidebar-mini">view_list</i>\r\n              </button>\r\n            </div>\r\n            <h2 class="leftMargin">${pageTitle}</h2>\r\n          </div>\r\n          <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">\r\n            <span class="sr-only">Toggle navigation</span>\r\n            <span class="navbar-toggler-icon icon-bar"></span>\r\n            <span class="navbar-toggler-icon icon-bar"></span>\r\n            <span class="navbar-toggler-icon icon-bar"></span>\r\n          </button>\r\n          <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-2">\r\n            <ul class="navbar-nav">\r\n                \x3c!-- <li if.bind="currentRoute == \'customers\'" class="active nav-item"><a class="nav-link" href="#/editPeople">People</a></li>\r\n                <li if.bind="currentRoute == \'customers\'" class="nav-item"><a class="nav-link" href="#/editInstitutions">Institutions</a></li>\r\n                <li if.bind="currentRoute == \'customers\'" class="nav-item"><a class="nav-link" href="#/bulkEmails">Bulk EMail</a></li> --\x3e\r\n              \r\n                <li class="${row.isActive ? \'active nav-item \' : \'nav-item \'}" repeat.for="row of router.navigation"><a class="nav-link" href.bind="row.href">${row.title}</a></li>\r\n            </ul>\r\n        </div>\r\n          <div class="collapse navbar-collapse justify-content-end">\r\n            <span id="notification"></span>\r\n            <ul class="navbar-nav">\r\n              <li class="nav-item"><a class=\'nav-link\' href="#/about">About the UCC</a></li>\r\n              \x3c!-- <li class="nav-item"><a class=\'nav-link\' click.trigger="lougout()">Logout</a></li> --\x3e\r\n            </ul>\r\n            \x3c!--\r\n            <form class="navbar-form">\r\n              <div class="input-group no-border">\r\n                <input type="text" value="" class="form-control" placeholder="Search...">\r\n                <button type="submit" class="btn btn-white btn-round btn-just-icon">\r\n                  <i class="material-icons">search</i>\r\n                  <div class="ripple-container"></div>\r\n                </button>\r\n              </div>\r\n            </form>\r\n            <ul class="navbar-nav">\r\n              <li class="nav-item">\r\n                <a class="nav-link" href="javascript:;">\r\n                  <i class="material-icons">dashboard</i>\r\n                  <p class="d-lg-none d-md-block">\r\n                    Stats\r\n                  </p>\r\n                </a>\r\n              </li>\r\n              <li class="nav-item dropdown">\r\n                <a class="nav-link" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\r\n                  <i class="material-icons">notifications</i>\r\n                  <span class="notification">5</span>\r\n                  <p class="d-lg-none d-md-block">\r\n                    Some Actions\r\n                  </p>\r\n                </a>\r\n                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">\r\n                  <a class="dropdown-item" href="#">Mike John responded to your email</a>\r\n                  <a class="dropdown-item" href="#">You have 5 new tasks</a>\r\n                  <a class="dropdown-item" href="#">You\'re now friend with Andrew</a>\r\n                  <a class="dropdown-item" href="#">Another Notification</a>\r\n                  <a class="dropdown-item" href="#">Another One</a>\r\n                </div>\r\n              </li>\r\n              <li class="nav-item dropdown">\r\n                <a class="nav-link" href="javascript:;" id="navbarDropdownProfile" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\r\n                  <i class="material-icons">person</i>\r\n                  <p class="d-lg-none d-md-block">\r\n                    Account\r\n                  </p>\r\n                </a>\r\n                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownProfile">\r\n                  <a class="dropdown-item" href="#">Profile</a>\r\n                  <a class="dropdown-item" href="#">Settings</a>\r\n                  <div class="dropdown-divider"></div>\r\n                  <a class="dropdown-item" href="#">Log out</a>\r\n                </div>\r\n              </li>\r\n            </ul>--\x3e\r\n          </div>\r\n        </div>\r\n      </nav>\r\n  \r\n</template>'},"resources/index":function(e,t,r){"use strict";function n(e){e.globalResources(["./elements/nav-bar","./elements/side-bar","./elements/top-bar","./value-converters/lookup-value","./value-converters/phone-number","./value-converters/activate-button"])}r.r(t),r.d(t,"configure",(function(){return n}))},"resources/value-converters/activate-button":function(e,t,r){"use strict";r.r(t),r.d(t,"ActivateButtonValueConverter",(function(){return n}));var n=function(){function e(){}return e.prototype.toView=function(e){return"02"==e?'<i class="fa fa-toggle-on fa-lg" aria-hidden="true"></i>':'<i class="fa fa-toggle-off fa-lg" aria-hidden="true"></i>'},e}()},"resources/value-converters/lookup-value":function(e,t,r){"use strict";r.r(t),r.d(t,"LookupValueValueConverter",(function(){return n}));var n=function(){function e(){}return e.prototype.toView=function(e,t,r,n){if(e&&t&&n&&r)for(var s=0;s<t.length;s++)if(e==t[s][r])return t[s][n];return""},e}()},"resources/value-converters/phone-number":function(e,t,r){"use strict";r.r(t),r.d(t,"PhoneNumberValueConverter",(function(){return n}));var n=function(){function e(){}return e.prototype.toView=function(e,t,r,n){if("99"===r)return e;if(r||(r="US"),e){r=r.toUpperCase(),e=(e=e.replace(/ /g,"")).replace(/-/g,"");for(var s="",a="",i=0;i<t.length;i++)if(t[i].country===r){s=t[i].mask;break}s||(s="999-999-9999");for(var o=s.length,l=0;l<o;l++){var c=s.substr(0,1);s=s.slice(1),"9"===c?(a+=e.substr(0,1),e=e.slice(1)):a+=c}return n&&(a+=" ext. "+n),a}},e}()}}]);
//# sourceMappingURL=app~f075b844.d2492f2dc84ad555d8af.bundle.map