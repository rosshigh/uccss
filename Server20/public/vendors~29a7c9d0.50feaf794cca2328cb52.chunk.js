(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"8Pyf":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMasker=function(t){var e=s,i=new n;i.maskFormat=t.maskFormat,i.placeholder=t.placeholder||"_",i.bindMasking=!!t.bindMasking,i.aspnetMasking=!!t.aspnetMasking;var a=JSON.stringify(i);return e[a]||(e[a]=new o(i)),e[a]};var n=function(){};e.MaskOptions=n;var s=new Map,a={9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/};var o=function(){function t(t){this.maskFormat=t.maskFormat,this.bindMasking=t.bindMasking,this.aspnetMasking=t.aspnetMasking,this.maskCaretMap=[],this.maskPatterns=[],this.maskPlaceholder="",this.minRequiredLength=0,this.maskComponents=null,this.maskProcessed=!1,this.placeholder=t.placeholder,this.processRawMask()}return t.prototype.unmaskValue=function(t){return this.aspnetMasking?this._maskValue2(t):this.bindMasking?this._maskValue(t,!0):this._unmaskValue(t)},t.prototype.maskValue=function(t){return this.aspnetMasking?this._maskValue2(t):this._maskValue(t,!1)},t.prototype.maxCaretPos=function(t){var e;if(e=t.length,this.aspnetMasking)return this.maskCaretMap.slice().pop();if(this.bindMasking){if(-1!=this.maskCaretMap.indexOf(e)||e===this.maskFormat.length)return e;for(var i=0;i<this.maskCaretMap.length;i++)if(this.maskCaretMap[i]>e)return this.maskCaretMap[i];return this.maskCaretMap.slice().shift()}return this.maskCaretMap[e]||this.maskCaretMap.slice().shift()},t.prototype.minCaretPos=function(){return this.maskCaretMap[0]},t.prototype._unmaskValue=function(t){var e="",i=this.maskPatterns.slice();return t=t.toString(),this.maskComponents.forEach((function(e){t=t.replace(e,"")})),t.split("").forEach((function(t){i.length&&i[0].test(t)&&(e+=t,i.shift())})),e},t.prototype._maskValue=function(t,e){var i=t||"",n="",s=this.maskCaretMap.slice(),a=this.maskPatterns.slice();function o(t){(!e||i.length>0)&&(n+=t)}function r(){return a[0].test(i.charAt(0))}function h(){i=i.substr(1)}return e&&(i=this._unmaskValue(i)),this.maskPlaceholder.split("").forEach((function(t,e){if(i.length>0&&e===s[0]){if(a.length)for(;i.length>0&&!r();)h();a.length&&r()?(n+=i.charAt(0),s.shift(),a.shift()):(o(t),s.shift()),h()}else i.length>0&&i.charAt(0)===t&&h(),o(t)})),n},t.prototype._maskValue2=function(t){var e;e=t||"";var i="",n=this.maskCaretMap.slice(),s=this.maskPatterns.slice();n.pop();var a=this.placeholder;function o(t){i+=t}function r(){e=e.substr(1)}return this.maskPlaceholder.split("").forEach((function(t,h){if(e.length>0&&h===n[0])s.length&&(e.charAt(0)==a||s[0].test(e.charAt(0)))?(i+=e.charAt(0),n.shift(),s.shift()):(o(t),n.shift()),r();else{for(;e.length>0&&e.charAt(0)===a;)r();e.length>0&&e.charAt(0)===t&&r(),o(t)}})),i},t.prototype.stripPlaceholders=function(t){return e=t,i=this.placeholder,null==e&&(e=""),e.split(i).join("");var e,i},t.prototype.getNextCaretPos=function(t){if(0==this.maskCaretMap.length)return this.maskFormat.length;for(var e=0;e<this.maskCaretMap.length-1&&this.maskCaretMap[e]<=t;)e++;return this.maskCaretMap[e]},t.prototype.getPreviousCaretPos=function(t){if(0==this.maskCaretMap.length)return 0;for(var e=this.maskCaretMap.length-1;e>0&&this.maskCaretMap[e]>=t;)e--;return this.maskCaretMap[e]},t.prototype.processRawMask=function(){var t=this,e=0;if(r(this.maskFormat)){var i=!1,n=0;this.maskFormat.split("").forEach((function(s,o){a[s]?(t.maskCaretMap.push(e),t.maskPlaceholder+=t.getPlaceholderChar(o-n),t.maskPatterns.push(a[s]),e++,i||t.minRequiredLength++,i=!1):"?"===s?(i=!0,n++):(t.maskPlaceholder+=s,e++)}))}this.maskCaretMap.push(this.maskCaretMap.slice().pop()+1),this.getMaskComponents(),this.maskProcessed=this.maskCaretMap.length>1},t.prototype.getMaskComponents=function(){var t,e=this.maskPlaceholder.split("");this.maskCaretMap&&!isNaN(this.maskCaretMap[0])&&this.maskCaretMap.forEach((function(t){e[t]="_"})),t=e.join(""),this.maskComponents=t.replace(/[_]+/g,"_").split("_")},t.prototype.getPlaceholderChar=function(t){var e=this.placeholder;return"space"===e.toLowerCase()?" ":e[0]},t.prototype.isValidAt=function(t,e){var i=this.maskCaretMap.indexOf(e);return!(-1==i||i>=this.maskPatterns.length)&&this.maskPatterns[i].test(t)},t}();function r(t){return"string"==typeof t||t instanceof String}e.Masker=o,e.isString=r,e.isNumeric=function(t){return!r(t)&&!isNaN(parseFloat(t))&&isFinite(t)}},"aurelia-mask/dist/masked-input":function(t,e,i){"use strict";var n=this&&this.__decorate||function(t,e,i,n){var s,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(o=(a<3?s(o):a>3?s(e,i,o):s(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var a=i("aurelia-framework"),o=i("8Pyf");var r=function(){function t(t){var e=this;this.isAttached=!1,this.element=t,this.preventBackspace=!1,this.keyDownHandler=function(t){return e.onKeyDown(t)},this.keyUpHandler=function(t){return e.onKeyUp(t)},this.clickHandler=function(t){return e.onClick(t)},this.inputHandler=function(t){return e.onInput(t)},this.focusHandler=function(t){return e.onFocus(t)},this.selectHandler=function(t){return e.onSelect(t)}}return t.prototype.bind=function(){if(null==this.mask)throw new Error("mask needs to be defined");this.makeMasker(),this.oldValue=this.masker.maskValue(this.numberToString(this.value)),this.oldValueUnmasked=this.masker.unmaskValue(this.oldValue)},t.prototype.attached=function(){this.isAttached=!0,this.findInputElement(),this.inputElement.addEventListener("keydown",this.keyDownHandler),this.inputElement.addEventListener("keyup",this.keyUpHandler),this.inputElement.addEventListener("input",this.inputHandler),this.inputElement.addEventListener("mouseup",this.clickHandler),this.inputElement.addEventListener("focus",this.focusHandler),this.inputElement.addEventListener("select",this.selectHandler),this.caretPos=this.getCaretPosition(),this.inputElement.value=this.oldValue,this.updateUIValue(this.oldValue,!1,this.minCaretPos,this.minCaretPos)},t.prototype.findInputElement=function(){"input"===this.element.tagName.toLowerCase()?this.inputElement=this.element:null!=this.findInput?this.inputElement=this.findInput(this.element):this.inputElement=function(t){var e=t.getElementsByTagName("input");if(0==e.length)throw new Error("'masked' attribute is not on an input element");return e[0]}(this.element)},t.prototype.detached=function(){this.inputElement.removeEventListener("keydown",this.keyDownHandler),this.inputElement.removeEventListener("keyup",this.keyUpHandler),this.inputElement.removeEventListener("input",this.inputHandler),this.inputElement.removeEventListener("mouseup",this.clickHandler),this.inputElement.removeEventListener("focus",this.focusHandler),this.inputElement.removeEventListener("select",this.selectHandler)},Object.defineProperty(t.prototype,"maxCaretPos",{get:function(){if(null==this.masker)return 0;var t=this.unmaskedModelValue;return this.masker.maxCaretPos(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minCaretPos",{get:function(){return null==this.masker?0:this.masker.minCaretPos()},enumerable:!0,configurable:!0}),t.prototype.onSelect=function(t){this.oldSelectionLength=this.getSelectionLength()},t.prototype.onClick=function(t){t=t||{};var e=this.unmaskedUIValue,i=this.getCaretPosition()||0,n=this.oldCaretPosition||0,s=i-n,a=this.oldSelectionLength||0,o=this.getSelectionLength()>0,r=a>0,h=this.isDeletion()&&-1===s,l=(this.isDeletion(),i>this.minCaretPos);if(this.oldSelectionLength=0,!o)return h&&this.preventBackspace?(this.inputElement.value=this.oldValue,void this.setCaretPosition(n)):void this.updateUIValue(e,l,i,n);this.oldCaretPosition=-1},Object.defineProperty(t.prototype,"unmaskedUIValue",{get:function(){if(this.isAttached){var t=this.inputElement.value;return this.masker.unmaskValue(t)}return this.numberToString(this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unmaskedModelValue",{get:function(){return this.getUnmaskedValue(this.value)},enumerable:!0,configurable:!0}),t.prototype.getUnmaskedValue=function(t){var e=this.numberToString(t);return this.masker.unmaskValue(e)},t.prototype.isAddition=function(t){void 0===t&&(t=!1);var e=this.unmaskedUIValue,i=this.inputElement.value;t&&(this.bindMasking||this.aspnetMasking)&&(e=this.inputElement.value);var n=this.oldValueUnmasked,s=this.oldValue,a=this.oldSelectionLength||0;return e.length>n.length||a&&i.length>s.length-a},t.prototype.isSingleAddition=function(){var t=this.inputElement.value,e=this.oldValueUnmasked;this.oldSelectionLength;return t.length==e.length+1},t.prototype.isDeletion=function(){var t=this.inputElement.value,e=this.oldValue,i=this.oldSelectionLength||0;return t.length<e.length||i&&t.length===e.length-i},t.prototype.onInput=function(t){t=t||{};var e=this.unmaskedUIValue,i=this.oldValueUnmasked,n=this.getCaretPosition()||0,s=this.oldCaretPosition||0;-1===s&&(s=n-1);var a=n-s,o=this.oldSelectionLength||0,r=o>0;if(this.isSingleAddition()&&"overtype"===this.editMode)if(e=this.inputElement.value,this.isValidCaretPosition(s)){var h=e.charAt(s);this.masker.isValidAt(h,s)?(e=e.substr(0,n)+e.substr(n+1),e=this.masker.unmaskValue(e)):(e=e.substr(0,s)+e.substr(s+1),e=this.masker.unmaskValue(e)),n=this.masker.getNextCaretPos(s)}else{h=this.inputElement.value.charAt(s)||"";this.isValidCaretPosition(n)||(n=this.masker.getNextCaretPos(n)),e=this.oldValue.substr(0,n)+h+this.oldValue.substr(n+1),e=this.masker.unmaskValue(e),n=this.masker.getNextCaretPos(n)}var l=this.isDeletion()&&-1===a,u=this.isDeletion()&&0===a&&!r,p=l&&n>this.minCaretPos;if(r&&this.isAddition(!0)){var d=Math.min(n,s);if(n<s&&d--,o==this.oldValue.length&&"insert"===this.editMode){n=d+(this.masker.maskValue(this.inputElement.value).length-(this.oldValue.length-o))}else{var m=d,c=this.oldValue.substr(m+o),g=this.oldValue.substr(0,m),f=this.inputElement.value;if(f.startsWith(g)&&(f=f.substr(g.length)),f.endsWith(c)&&(f=f.substr(0,f.length-c.length)),this.isValidCaretPosition(d)||(d=this.masker.getNextCaretPos(d)),1===this.inputElement.value.length)n=this.masker.getNextCaretPos(d);else n=d+(this.inputElement.value.length-(this.oldValue.length-o));var k=this.masker.maskValue("");if(f.length<o){var v=d-m,y=k.substr(d+f.length,o-f.length-v);e=g+k.substr(m,v)+f+y+c,e=this.masker.unmaskValue(e)}}}if(this.oldSelectionLength=this.getSelectionLength(),l&&this.preventBackspace&&!r)return this.inputElement.value=this.oldValue,void this.setCaretPosition(s);if(!this.isDeletion()||r||this.isValidCaretPosition(n)){if(this.isDeletion()&&!r&&e===i){for(;l&&n>this.minCaretPos&&!this.isValidCaretPosition(n);)n--;for(;u&&n<this.maxCaretPos&&-1===this.masker.maskCaretMap.indexOf(n);)n++;var C=this.masker.maskCaretMap.indexOf(n);0!=C&&(this.aspnetMasking||(e=e.substring(0,C)+e.substring(C+1)))}}else n=this.masker.getPreviousCaretPos(n),e=this.masker.unmaskValue(this.oldValue.substring(0,n)+this.oldValue.substring(n+1));this.updateUIValue(e,p,n,s),this._setValue(e)},t.prototype._setValue=function(t){o.isNumeric(t)&&o.isString(this.value)&&this.numberToString(t)===this.value||o.isNumeric(this.value)&&o.isString(t)&&this.numberToString(this.value)===t||(this.value||0===this.value||t||0===t)&&(null!=this.change&&t!==this.value&&this.change({newValue:t,oldValue:this.value}),this.value=t)},t.prototype.numberToString=function(t){return null==t&&(t=""),""+t},t.prototype.stringToNumber=function(t){return o.isNumeric(t)?t:parseFloat(t)},t.prototype.onFocus=function(t){t=t||{};var e=this.unmaskedUIValue,i=this.getCaretPosition()||0,n=this.oldCaretPosition||0,s=i-n,a=(this.oldSelectionLength||0)>0,o=this.isDeletion()&&-1===s,r=(this.isDeletion(),o&&i>this.minCaretPos);if(this.oldSelectionLength=0,o&&this.preventBackspace)return this.inputElement.value=this.oldValue,void this.setCaretPosition(n);this.updateUIValue(e,r,i,n),this.inputElement.setSelectionRange(0,this.inputElement.value.length),this.oldSelectionLength=this.getSelectionLength()},t.prototype.onKeyUp=function(t){(t=t||{}).type;if(16!==t.which&&91!==t.which){var e=this.unmaskedUIValue,i=this.getCaretPosition()||0,n=this.oldCaretPosition||0,s=(this.oldSelectionLength,this.getSelectionLength()>0),a=t.which>=37&&t.which<=40&&t.shiftKey,o=37===t.which,r=8===t.which,h=(t.which,(o||r)&&i>this.minCaretPos);if(this.oldSelectionLength=this.getSelectionLength(),!a&&!s){if(r&&this.preventBackspace)return this.inputElement.value=this.oldValue,void this.setCaretPosition(n);this.updateUIValue(e,h,i,n),this._setValue(e)}}},t.prototype.updateUIValue=function(t,e,i,n){var s=this.isAddition(),a=this.masker.maskValue(t),o=this.minCaretPos,r=this.masker.maxCaretPos(t);for(this.oldValue=a,this.oldValueUnmasked=t,this.isAttached&&(this.inputElement.value=a),s&&i<=o&&(i=o+1),e&&i--,i=i>r?r:i<o?o:i;!this.isValidCaretPosition(i)&&i>o&&i<r;)i+=e?-1:1;(e&&i<r||s&&!this.isValidCaretPosition(n))&&i++,this.oldCaretPosition=i,this.caretPos=i,this.setCaretPosition(this.caretPos)},t.prototype.getSelectionLength=function(){return this.inputElement?void 0!==this.inputElement.selectionStart?this.inputElement.selectionEnd-this.inputElement.selectionStart:document.selection?document.selection.createRange().text.length:0:0},t.prototype.onKeyDown=function(t){var e=8===t.which,i=this.getCaretPosition()-1||0;if(e){for(;i>=0;){if(this.isValidCaretPosition(i)){this.caretPos=i;break}i--}this.preventBackspace=-1===i}},t.prototype.getCaretPosition=function(){if(!this.inputElement)return 0;if(void 0!==this.inputElement.selectionStart)return this.inputElement.selectionStart;if(document.selection&&this.isFocused()){this.inputElement.focus();var t=document.selection.createRange();return t.moveStart("character",this.inputElement.value?-this.inputElement.value.length:0),t.text.length}return 0},t.prototype.isValidCaretPosition=function(t){return this.masker.maskCaretMap.indexOf(t)>-1},t.prototype.setCaretPosition=function(t){if(!this.inputElement)return 0;if(!this.isHidden())if(this.inputElement.setSelectionRange)this.isFocused()&&(this.inputElement.focus(),this.inputElement.setSelectionRange(t,t));else if(this.inputElement.createTextRange){var e=this.inputElement.createTextRange();e.collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()}},t.prototype.isFocused=function(){return this.inputElement===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(this.inputElement.type||this.inputElement.href||~this.inputElement.tabIndex)},t.prototype.isHidden=function(){return 0===this.inputElement.offsetWidth||0===this.inputElement.offsetHeight},t.prototype.maskChanged=function(){this.makeMasker(),this.setValue(this.value)},t.prototype.makeMasker=function(){this.masker=o.getMasker({maskFormat:this.mask,bindMasking:this.bindMasking,placeholder:this.placeholder,aspnetMasking:this.aspnetMasking})},t.prototype.setValue=function(t){var e=this.getUnmaskedValue(t),i=this.getCaretPosition()||0,n=this.oldCaretPosition||0,s=(this.oldSelectionLength,this.getSelectionLength(),i>this.minCaretPos);if(this.oldSelectionLength=this.getSelectionLength(),"overtype"===this.editMode){var a=this.masker.stripPlaceholders(this.value),o=this.masker.stripPlaceholders(t);s=s&&o.length<a.length}this.updateUIValue(e,s,i,n),this._setValue(e)},n([a.bindable({defaultBindingMode:a.bindingMode.twoWay}),s("design:type",Object)],t.prototype,"value",void 0),n([a.bindable,s("design:type",String)],t.prototype,"mask",void 0),n([a.bindable,s("design:type",String)],t.prototype,"inputId",void 0),n([a.bindable,s("design:type",String)],t.prototype,"inputClass",void 0),n([a.bindable,s("design:type",Boolean)],t.prototype,"disabled",void 0),n([a.bindable({defaultBindingMode:a.bindingMode.oneTime,defaultValue:!1}),s("design:type",Boolean)],t.prototype,"bindMasking",void 0),n([a.bindable({defaultBindingMode:a.bindingMode.oneTime,defaultValue:!1}),s("design:type",Boolean)],t.prototype,"aspnetMasking",void 0),n([a.bindable({defaultBindingMode:a.bindingMode.oneTime,defaultValue:null}),s("design:type",String)],t.prototype,"placeholder",void 0),n([a.bindable({defaultBindingMode:a.bindingMode.oneTime,defaultValue:"insert"}),s("design:type",String)],t.prototype,"editMode",void 0),n([a.bindable({defaultBindingMode:a.bindingMode.oneTime,defaultValue:null}),s("design:type",Function)],t.prototype,"findInput",void 0),n([a.bindable(),s("design:type",Function)],t.prototype,"change",void 0),t=n([a.customAttribute("masked"),a.inject(Element),s("design:paramtypes",[Element])],t)}();e.MaskedInput=r}}]);
//# sourceMappingURL=vendors~29a7c9d0.50feaf794cca2328cb52.bundle.map