<template>
    <div class="col-lg-12">
        <div class='row'>
            <div class='col-lg-10 col-lg-offset-1 bottomMargin'>
                <compose view="../../../resources/elements/table-navigation-bar.html"></compose>
                <div id="no-more-tables">
                    <table class="table table-striped table-hover cf">
                        <thead class="cf">
                            <tr>
                                <td colspan='7'>
                                    <span click.delegate="refresh()" class="smallMarginRight"><i class="fa fa-refresh" aria-hidden="true"></i></span>
                                    <span class="pull-right" id="spinner" innerhtml.bind="spinnerHTML"></span>
                                </td>
                            </tr>
                            <tr>
                                <th style="width:20rem;">Name <span click.trigger="dataTable.sortArray('lastName')"><i class="fa fa-sort"></i></span></th>
                                <th style="width:15rem;">Phone</th>
                                <th style="width:15rem;">Mobile</th>
                                <th style="width:20rem;">eMail <span click.trigger="dataTable.sortArray('email')"><i class="fa fa-sort"></i></span></th>
                                <th>Role</th>
                                <th>Status</th>
                                <th>Change Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th>
                                    <input input.delegate="dataTable.filterList($event)" id="lastName" type="text" placeholder="Filter Name" class="form-control">
                                </th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th>
                                    <input input.delegate="dataTable.filterList($event)" id="roles" type="text" placeholder="Filter Role" class="form-control"
                                        compare="array">
                                </th>
                                <th>
                                    <select change.delegate="dataTable.filterList($event)" class="form-control " id="personStatus">
                                    <option value=""></option>
                                    <option repeat.for='status of is4ua.personStatusArray' value='${status.code}'>${status.description}</option>
                                </select>
                                </th>
                                <th></th>
                            </tr>
                            <tr  repeat.for="person of dataTable.displayArray">
                                <td click.trigger="edit($index, $event)" data-title="Name">${person.fullName}</td>
                                <td click.trigger="edit($index, $event)" data-title="Phone">${person.phone | phoneNumber}</td>
                                <td click.trigger="edit($index, $event)" data-title="Phone">${person.mobile | phoneNumber}</td>
                                <td click.trigger="edit($index, $event)" data-title="Email">${person.email}</td>
                                <td click.trigger="edit($index, $event)" data-title="Role">${person.roles}</td>
                                <td click.trigger="edit($index, $event)" data-title="Status">${person.personStatus | lookupDescription:is4ua.personStatusArray}</td>
                                <td data-title="Update" style="width: 100px" click.trigger="updateStatus(person)" innerhtml.bind="person.personStatus | personStatusButton">
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</template>