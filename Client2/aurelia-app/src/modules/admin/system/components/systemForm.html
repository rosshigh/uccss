<template>
    <div class="col-lg-12">

        <div class="bottomMargin list-group-item leftMargin rightMargin">
            <span click.delegate="back()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Back"><i class="fa fa-arrow-left fa-lg fa-border" aria-hidden="true"></i></span>
            <span click.delegate="save()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Save"><i class="fa fa-floppy-o fa-lg fa-border" aria-hidden="true"></i></span>
            <span click.delegate="cancel()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Cancel Changes"><i class="fa fa-ban fa-lg fa-border" aria-hidden="true"></i></span>
            <span show.bind="!newSystem" click.delegate="delete()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Delete"><i class="fa fa-trash fa-lg fa-border text-danger" aria-hidden="true"></i></span>
            <span click.delegate="editClientsButton()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Edit Client List"><i class="fa fa-pencil fa-lg fa-border" aria-hidden="true"></i></span>
        </div>  

            <!-- Edit Form -->
            <div class=" col-lg-6 topMargin">
                <div class="col-sm-12 col-lg-12">
                    <div class="form-group topMargin">
                        <label for="editSid" class="col-sm-3 form-control-label">SID</label>
                        <div class="col-sm-8">
                            <input value.bind="systems.selectedSystem.sid | toUppercase" id="editSid" class="form-control" placeholder="SID" type="text" />
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 col-lg-12">
                    <div class="form-group">
                        <label class="col-sm-3 form-control-label hideOnPhone">Status</label>
                        <div class="col-sm-8">
                            <div class="checkbox">
                                <label class="pull-left">
                                    <input checked.bind="systems.selectedSystem.active" id="activeCheckBox" type="checkbox" data-toggle="checkbox"> Active
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 col-lg-12">
                    <div class="form-group">
                        <label for="editDesc" class="col-sm-3 form-control-label">Description</label>
                        <div class="col-sm-8">
                            <input value.bind="systems.selectedSystem.description" id="editDesc" class="form-control input-md" placeholder="Description"
                            type="text" />
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 col-lg-12">
                    <div class="form-group">
                        <label for="editServer" class="col-sm-3 form-control-label topMargin">Server</label>
                        <div class="col-sm-8">
                            <input value.bind="systems.selectedSystem.server | toUppercase" id="editServer" class="topMargin form-control input-md" placeholder="Server"
                            type="text" />
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 col-lg-12">
                    <div class="form-group">
                        <label for="editInst" class="col-sm-3 form-control-label topMargin">Instance</label>
                        <div class="col-sm-8">
                            <input value.bind="systems.selectedSystem.instance" id="editInst" class="topMargin form-control input-md" placeholder="Instance"
                            type="text" maxLength="2"/>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 col-lg-12">
                    <div class="form-group">
                        <label for="editIpAddress" class="col-sm-3 form-control-label topMargin">IP Address</label>
                        <div class="col-sm-8">
                            <input value.bind="systems.selectedSystem.ipAddress" id="editIpAddress" class="topMargin form-control input-md" placeholder="IP Address"
                            type="text"/>
                        </div>
                    </div>
                </div>
                 <div class="col-sm-12 col-lg-12">
                    <div class="form-group">
                        <label for="editOs" class="col-sm-3 form-control-label topMargin">OS</label>
                        <div class="col-sm-8">
                            <input value.bind="systems.selectedSystem.os" id="editOs" class="topMargin form-control input-md" placeholder="Operating System"
                            type="text"/>
                        </div>
                    </div>
                </div>
                 <div class="col-sm-12 col-lg-12">
                    <div class="form-group">
                        <label for="editOsVersion" class="col-sm-3 form-control-label topMargin">OS Version</label>
                        <div class="col-sm-8">
                            <input value.bind="systems.selectedSystem.osVersion" id="editOsVersion" class="topMargin form-control input-md" placeholder="OS Version"
                            type="text"/>
                        </div>
                    </div>
                </div>
                 <div class="col-sm-12 col-lg-12">
                    <div class="form-group">
                        <label for="editDB" class="col-sm-3 form-control-label topMargin">Database</label>
                        <div class="col-sm-8">
                            <input value.bind="systems.selectedSystem.dbType" id="editDB" class="topMargin form-control input-md" placeholder="Database"
                            type="text"/>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 col-lg-12">
                    <div class="form-group">
                        <label for="editDBVersion" class="col-sm-3 form-control-label topMargin">Dataabase Version</label>
                        <div class="col-sm-8">
                            <input value.bind="systems.selectedSystem.dbVersion" id="editDBVersion" class="topMargin form-control input-md" placeholder="Database Version"
                            type="text"/>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 col-lg-12">
                    <div class="form-group">
                        <label for="editIts" class="col-sm-3 form-control-label topMargin">ITS</label>
                        <div class="col-sm-8">
                            <input value.bind="systems.selectedSystem.its" id="editIts" class="topMargin form-control input-md" placeholder="ITS"
                            type="text" />
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 col-lg-12">
                    <div class="form-group">
                        
                        <label for="editTerms" class="col-sm-3 form-control-label topMargin">Sessions</label>
                        <div class="col-sm-8">
                            <select multiple value.bind="systems.selectedSystem.sessions" class="form-control topMargin">
                                <option value="${session.session}"  repeat.for="session of config.SESSION_PARAMS">${session.session}</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 col-lg-12 bottomMargin">
                    <div class="form-group">
                        <label for="editIdsAvailable" class="col-sm-3 form-control-label topMargin">IDS Available</label>
                        <div class="col-sm-8">
                            <input value.bind="systems.selectedSystem.idsAvailable" id="editIdsAvailable" class="topMargin form-control input-md"
                            placeholder="IDS Available" type="text" />
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 col-lg-12 bottomMargin">
                    <div class="form-group">
                        <label for="editProduct" class="col-sm-3 form-control-label topMargin">Products</label>
                        <div class="col-sm-8">
                            <ul class="list-group">
                                <li class="list-group-item" repeat.for="product of systems.selectedSystem.productId">${product | productName:products.productsArray}</li>
                            </ul>
                        </div>
                    </div>
                </div>
                 <div class="col-sm-12 col-lg-12 bottomMargin">
                    <div class="form-group">
                        <label for="editNotes" class="col-sm-3 form-control-label topMargin">Notes</label>
                        <div class="col-sm-8">
                            <textarea value.bind="systems.selectedSystem.notes" id="editNotes" rows="8" class="topMargin form-control input-md"></textarea>
                        </div>
                    </div>
                </div>
            </div>
             <div class=" col-lg-6 topMargin">
                <div class="row">
                    <div show.bind="editClients" class="panel panel-default editPanel topMargin col-sm-9" >
                        <div class="panel-body">
                            <div class="topMargin leftmargin">
                                <div class="row">
                                    <div class="bottomMargin list-group-item leftMargin rightMargin">
                                        <span click.delegate="generateClients()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Add Clients"><i class="fa fa-plus fa-lg fa-border" aria-hidden="true"></i></span>
                                        <span click.delegate="refreshClients()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Refresh Clients"><i class="fa fa-refresh fa-lg fa-border text-danger" aria-hidden="true"></i></span>
                                        <span click.delegate="deleteClients()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Delete Clients"><i class="fa fa-trash-o fa-lg fa-border text-danger" aria-hidden="true"></i></span>
                                        <span click.delegate="editClientsButton()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Cancel Changes"><i class="fa fa-ban fa-lg fa-border" aria-hidden="true"></i></span>
                                    </div>  
                                </div>
                        
                                <div class="row topMargin bottomMargin">
                                    <div class="form-group col-sm-2 ">
                                        <input value.bind="editFirstClient" style="width:75px;margin-right:10px;" id="editFirstClient" placeholder="Start" class="form-control input-sm"
                                        type="number" />
                                    </div>
                                    <div class="form-group col-sm-2 ">
                                        <input value.bind="editLastClient" style="width:75px;margin-right:10px;" id="editLastClient" placeholder="End" class="form-control input-sm"
                                        type="number" />
                                    </div>
                                    <div class="form-group col-sm-2 ">
                                        <input value.bind="systems.selectedSystem.idsAvailable" style="width:75px;margin-right:10px;" id="editClientIdsAvailable"
                                        placeholder="IDS Available" class="form-control input-sm" type="number" />
                                    </div>
                                    <div class="fom-group col-sm-3 ">
                                        <select value.bind="editClientStatus" class="form-control" data-title="Single Select" data-style="btn-default btn-block"
                                        data-menu-style="dropdown-blue">
                                            <option repeat.for="status of config.CLIENT_STATUSES" value="${status.code}">${status.description}
                                                <option>
                                        </select>
                                    </div>
                                    <h6 class="col-lg-12">Client interval: ${config.CLIENT_INTERVAL}</h6>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
               
                <div show.bind="systems.selectedSystem.clients.length > 0 && !clientSelected" class="col-sm-9">
                    <div class="panel panel-default topMargin" >
                        <div class="panel-body">
                            <ul>
                                <li class="list-group-item" repeat.for="client of systems.selectedSystem.clients | sortArray:'client':'ASC'">
                                    <div class="row">
                                        <span class="col-sm-8">
                                            <h5>Client ${client.client} <span class="leftMargin">IDs: ${client.idsAvailable}</span></h5>
                                            <h6>Status: ${client.clientStatus | lookupDescription:config.CLIENT_STATUSES}</h6>
                                            <h7>Assignments: ${client.assignments.length}</h7>
                                        </span>
                                        <span class="col-sm-4">
                                            <span click.delegate="refreshClient($index)" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Refresh Client"><i class="fa fa-refresh" aria-hidden="true"></i></span>
                                            <span click.delegate="toggleSandBox($index)" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Toggle Sandbox"><i class="fa fa-users" aria-hidden="true"></i></span>
                                            <span click.delegate="deleteClient($index)" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Delete Client"><i class="fa fa-trash" aria-hidden="true"></i></span>
                                            <span click.trigger="selectClient(client, $index)" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Edit Client"><i class="fa fa-pencil fa-lg fa-border" aria-hidden="true"></i></span>                                            
                                        </span>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div show.bind="clientSelected">
                    <compose view="./edit-client-form.html"></compose>
                </div>
            </div>
        </div>
</template>
