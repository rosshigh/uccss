<template>
  <div class="col-lg-12 col-sm-12">
    <div class='row'>
      <div class='col-lg-10 col-lg-offset-1 bottomMargin'>
        <compose view="../../../../resources/elements/table-navigation-bar.html"></compose>
        <div id="no-more-tables">
          <table class="table table-striped table-hover cf">
            <thead class="cf">
              <tr>
                <td colspan='6'>
                  <span click.delegate="refresh()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom"
                    title="" data-original-title="Refresh"><i class="fa fa-refresh" aria-hidden="true"></i></span>
                  <span class="pull-right" id="spinner" innerhtml.bind="spinnerHTML"></span>
                </td>
              </tr>
              <tr>
                <th></th>
                <th class="hasinput">
                  <select change.delegate="dataTable.filterList($event)" class="form-control" id="helpTicketType">
                        <option value=""></option>
                        <option repeat.for="type of config.HELP_TICKET_TYPES"
                                value.bind="type.code">${type.description}</option>
                      </select>
                </th>
                <th class="hasinput">
                  <select value.bind="selectedStatus" change.delegate="dataTable.filterList($event)" class="form-control" id="helpTicketStatus">
                        <option value=""></option>
                        <option repeat.for="status of config.HELP_TICKET_STATUSES"
                                value.bind="status.code">${status.description}</option>
                      </select>
                </th>
                <th class="hasinput">
                  <input change.delegate="dataTable.filterList($event)" id="createdDate" type="date" placeholder="Filter Date" class="form-control datepicker"
                    data-dateformat="yy/mm/dd">
                </th>
              </tr>
              <tr>
                <th>
                  Number <span click.trigger="dataTable.sortArray('helpTicketNo')"><i class="fa fa-sort"></i></span>
                </th>
                <th>
                  Type <span click.trigger="dataTable.sortArray('helpTicketType')"><i class="fa fa-sort"></i></span><br>
                </th>
                <th>
                  Status <span click.trigger="dataTable.sortArray('helpTicketStatus')"><i class="fa fa-sort"></i></span><br>
                </th>
                <th>
                  Date Created <span click.trigger="dataTable.sortArray('createdDate')"><i class="fa fa-sort"></i></span>
                </th>
              </tr>
            </thead>
            <tbody>
              <!--   | pageFilter:dataTable.startRecord:dataTable.take -->
              <tr repeat.for="helpTicket of dataTable.displayArray" click.delegate="selectHelpTicket($event, $index)">
                <td data-title="Reference">${helpTicket.helpTicketNo}</td>
                <td data-title="Type">${helpTicket.helpTicketType | lookupDescription:config.HELP_TICKET_TYPES}</td>
                <td data-title="Status">${helpTicket.helpTicketStatus | lookupDescription:config.HELP_TICKET_STATUSES}</td>
                <td data-title="Created Date">${helpTicket.createdDate | dateFormat:config.DATE_FORMAT_TABLE:true}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  </div>
</template>