<template>
    <div class="fluid-container topMargin">
        <ul class="nav nav-tabs">
            <li class="active"><a data-toggle="tab" href="#home">Client</a></li>
            <li><a data-toggle="tab" href="#menu1">Assignments</a></li>
        </ul>
       
       <div class="tab-content">
           <div id="home" class="tab-pane fade active in">
                <div class="bottomMargin topMargin list-group-item leftMargin rightMargin">
                    <span click.delegate="back()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Back"><i class="fa fa-arrow-left fa-lg fa-border" aria-hidden="true"></i></span>
                    <span click.delegate="save()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Save"><i class="fa fa-floppy-o fa-lg fa-border" aria-hidden="true"></i></span>
                    <span click.delegate="deleteClient()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Delete"><i class="fa fa-trash fa-lg fa-border text-danger" aria-hidden="true"></i></span>
                </div>  
                
                <fieldset>
                    <div class="col-lg-12">
                        <div class="form-group">
                            <label for="client" class="col-lg-2 control-label topMargin">Client</label>
                            <div class="col-lg-10">
                                <input readonly value.bind="clientObj.client" id="client" class="form-control topMargin" placeholder="Product" type="text" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="idsavaialble" class="col-lg-2 control-label topMargin">IDs Available</label>
                            <div class="col-lg-10">
                                <input disabled.bind="clientObj.status === config.ASSIGNED_REQUEST_CODE" value.bind="clientObj.idsAvailable" id="idsavaialble" class="form-control topMargin" placeholder="IDs Available" type="text" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="lastID" class="col-lg-2 control-label topMargin">Last ID Allocated</label>
                            <div class="col-lg-10">
                                <input value.bind="clientObj.lastIdAllocated" id="lastID" class="form-control topMargin" placeholder="Last ID Allocated" type="text" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="status" class="col-lg-2 control-label topMargin">Status</label>
                            <div class="col-lg-10">
                                <select value.bind="clientObj.clientStatus" class="form-control topMargin" id="status">
                                    <option value="">Select an option</option>
                                    <option repeat.for="name of config.CLIENT_STATUSES"  value="${name.code}">${name.description}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>
            <div id="menu1" class="tab-pane fade">
                
                <div show.bind="clientObj.assignments.length == 0">
                    <label>This client has no assignments for the selected session.</label>
                </div>
                <table show.bind="clientObj.assignments.length > 0" id="assigmentsTable" class="table" style="font-size:small;">
                    <tbody>

                        <tr repeat.for="assignment of clientObj.assignments">
                            <td><div class="col-lg-12 list-group-item"><p class="list-group-item-text"><strong>${assignment.studentIDRange}</strong> <br>${assignment.facultyIDRange} <br> ${assignment.institutionId | lookupValue:people.institutionsArray:"_id":"name"}</p></div></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>  
    </div>
     
</template>