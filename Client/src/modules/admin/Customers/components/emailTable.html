<template>
    <div class='col-lg-10 col-lg-offset-1 bottomMargin'>
        <div id="no-more-tables">
            <table class="table table-striped table-hover cf">
                <thead class="cf">
                    <tr colspan='7'>
                            <compose view="../../../../resources/elements/table-navigation-bar.html"></compose>
                    </tr>  
                    <tr>
                        <td colspan='7'>
                            <span click.delegate="downloadInstExcel()"  class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Export to Excel"><i class="fa fa-download" aria-hidden="true"></i></span>
                        </td>
                    </tr>                          
                    <tr>
                        <th style="width:20rem;"><span  class="sortable" click.trigger="dataTable.sortArray($event, {propertyName: 'lastName'})">Name </span><i class="fa fa-sort"></i></th>                              
                        <th style="width:30rem;"><span  class="sortable" click.trigger="dataTable.sortArray($event, {propertyName: 'institutionId.name'})">Institution </span><i class="fa fa-sort"></i></th>
                        <th style="width:15rem;"><span  class="sortable" click.trigger="dataTable.sortArray($event, {propertyName: 'city'})">City </span><i class="fa fa-sort"></i></th>
                        <th style="width:15rem;"><span  class="sortable" click.trigger="dataTable.sortArray($event, {propertyName: 'institutionId.region'})">Region </span><i class="fa fa-sort"></i>></th>
                        <th style="width:20rem;"><span  class="sortable" click.trigger="dataTable.sortArray($event, {propertyName: 'email'})">Email </span><i class="fa fa-sort"></i></th>
                        <th>Role</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr repeat.for="person of dataTable.displayArray">
                        <td  data-title="Name">${person.firstName} ${person.lastName}</td>
                        <td  data-title="Insitution">${person.institutionId._id | lookupValue:people.institutionsArray:"_id":"name"}</td>
                        <td  data-tile="City">${person.institutionId.city}</td>
                        <td  data-tile="Region">${person.institutionId.region}</td>
                        <td  data-title="Email">${person.email}</td>
                        <td  data-title="Role">${person.roles}</td>
                        <td  data-title="Status">${person.personStatus | lookupValue:is4ua.personStatusArray:"code":"description"}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</template>