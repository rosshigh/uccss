<template>
    <div class="col-lg-12 col-sm-12">
        <div class='row'>
            <div class='col-lg-10 col-lg-offset-1 bottomMargin'>
                <table id="institutionsTable" class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <td colspan='6'>
                                <compose view="../../../../resources/elements/table-navigation-bar.html"></compose>
                            </td>
                        </tr>
                        <tr>
                            <td colspan='6'>
                                <span click.delegate="refresh()" class="smallMarginRight"><i class="fa fa-refresh" aria-hidden="true"></i></span>
                                <span click.delegate="new()"><i class="fa fa-plus" aria-hidden="true"></i></span>
                                <span class="pull-right" id="spinner" innerhtml.bind="spinnerHTML"></span>
                            </td>
                        </tr>
                        <tr>
                            <th style="width:20rem;">Name <span click.trigger="dataTable.sortArray('name')"><i class="fa fa-sort"></i></span></th>
                            <th style="width:30rem;">Institution Type</th>
                            <th style="width:15rem;">Member Type</th>
                            <th style="width:20rem;">Member Since</th>
                            <th>Highest Degree</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th>
                                <input input.delegate="dataTable.filterList($event)" id="name" type="text" placeholder="Filter Name" class="form-control">
                            </th>
                            <th>
                                <select change.delegate="dataTable.filterList($event)" class="form-control " id="institutionType" compare="status">
                                    <option value=""></option>
                                    <option repeat.for="institution of is4ua.institutionTypes" value="${institution.code}">${institution.description}</option>
                                </select>
                            </th>
                            <th>
                                <select change.delegate="dataTable.filterList($event)" class="form-control " id="memberType" compare="status">
                                    <option value=""></option>
                                    <option repeat.for="institution of is4ua.memberTypes" value="${institution.code}">${institution.description}</option>
                                </select>
                            </th>
                            <th></th>
                            <th>
                                <select change.delegate="dataTable.filterList($event)" class="form-control " id="highestDegree" compare="status">
                                    <option value=""></option>
                                    <option repeat.for="institution of is4ua.highestDegrees" value="${institution.code}">${institution.description}</option>
                                </select>
                            </th>
                            <th>
                                <select change.delegate="dataTable.filterList($event)" class="form-control " id="institutionStatus">
                                    <option value=""></option>
                                    <option repeat.for='status of is4ua.institutonStatusArray' value='${status.code}'>${status.description}</option>
                                </select>
                            </th>
                        </tr>
                        <tr click.trigger="edit($index, $event)" repeat.for="inst of displayArray | pageFilter:dataTable.startRecord:dataTable.take">
                            <td data-title="name">${inst.name}</td>
                            <td data-title="insitution">${inst.institutionType | lookupDescription:is4ua.institutionTypes}</td>
                            <td data-tile="phone">${inst.memberType | lookupDescription:is4ua.memberTypes}</td>
                            <td data-title="email">${inst.joinDate | dateFormat:config.DATE_FORMAT_TABLE:true}</td>
                            <td data-title="role">${inst.highestDegree | lookupDescription:is4ua.highestDegrees}</td>
                            <td data-title="status">${inst.institutionStatus | lookupDescription:is4ua.institutonStatusArray}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</template>