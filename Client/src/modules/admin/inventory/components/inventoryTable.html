<template>
    <div class="panel panel-info">
        <div class="panel-body">
            <div class="row">
                <div class="col-lg-12" style='padding:15px;'>
                    <div class='col-lg-10 col-lg-offset-1 bottomMargin'>
                        <div id="no-more-tables">
                            <table id="productsTable" class="table table-striped table-hover cf">
                                <thead class="cf">
                                    <tr colspan='4'>
                                        <compose view="../../../../resources/elements/table-navigation-bar.html"></compose>
                                    </tr>
                                    <tr>
                                        <td colspan='4'>
                                            <span click.delegate="refresh()" class="smallMarginRight" bootstrap-tooltip
                                                data-toggle="tooltip" data-placement="bottom" title=""
                                                data-original-title="Refresh"><i class="fa fa-refresh" aria-hidden="true"></i></span>
                                            <span click.delegate="new()" bootstrap-tooltip data-toggle="tooltip"
                                                data-placement="bottom" title="" data-original-title="New"><i class="fa fa-plus"
                                                    aria-hidden="true"></i></span>
                                            <span class="pull-right" id="spinner" innerhtml.bind="spinnerHTML"></span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th><span class="sortable" click.trigger="dataTable.sortArray($event, {propertyName: 'systemName'})">Name
                                            </span><span><i class="fa fa-sort"></i></span></th>
                                        <th><span class="sortable" click.trigger="dataTable.sortArray($event, {propertyName: 'serialNumber'})">Serial
                                                Number </span><span><i class="fa fa-sort"></i></span></th>
                                        <th><span class="sortable" click.trigger="dataTable.sortArray($event, {propertyName: 'modelNumber'})">Model
                                            </span><span><i class="fa fa-sort"></i></span></th>
                                        <th><span class="sortable" click.trigger="dataTable.sortArray($event, {propertyName: 'type'})">Type
                                            </span><span><i class="fa fa-sort"></i></span></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <th>
                                            <input value.bind="systemNameFilterValue" input.delegate="dataTable.filterList(systemNameFilterValue, { type: 'text',  filter: 'systemNameFilter', collectionProperty: 'systemName', displayProperty: 'systemName',  compare:'match'} )"
                                                class="form-control" />
                                        </th>
                                        <th>
                                            <input value.bind="serialNumberFilterValue" input.delegate="dataTable.filterList(serialNumberFilterValue, { type: 'text',  filter: 'serialNumberFilter', collectionProperty: 'serialNumber', displayProperty: 'serialNumber',  compare:'match'} )"
                                                class="form-control" />
                                        </th>
                                        <th>
                                            <input value.bind="modelNumberFilterValue" input.delegate="dataTable.filterList(modelNumberFilterValue, { type: 'text',  filter: 'modelNumberFilter', collectionProperty: 'modelNumber', displayProperty: 'modelNumber',  compare:'match'} )"
                                                class="form-control" />
                                        </th>
                                        <th>
                                            <select value.bind="typeFilter" input.delegate="dataTable.filterList($event, { type: 'value',  filter: 'typeFilter',  collectionProperty: 'type', displayProperty: 'type', compare:'match'} )"
                                                class="form-control">
                                                <option value=""></option>
                                                <option repeat.for="type of config.systemTypes" value="${type}">${type}</option>
                                            </select>
                                        </th>
                                    </tr>
                                    <tr click.trigger="edit($index, $event)" repeat.for="system of dataTable.displayArray">
                                        <td data-title="Name">${system.systemName}</td>
                                        <td data-title="Name">${system.serialNumber}</td>
                                        <td data-title="Name">${system.modelNumber}</td>
                                        <td data-title="Name">${system.type}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>