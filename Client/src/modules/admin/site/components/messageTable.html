<template>
    <div class="col-lg-12 col-sm-12" style='padding:15px;'>
        <div class='row'>
            <div class='col-lg-12 bottomMargin'>
                <compose view="../../../../resources/elements/table-navigation-bar.html"></compose>
                <div id="no-more-tables">
                    <table class="table table-striped table-hover cf">
                        <thead class="cf">
                            <tr>
                                <td colspan='3'>
                                    <span click.delegate="refresh()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Refresh"><i class="fa fa-refresh" aria-hidden="true"></i></span>
                                    <span class="pull-right" id="spinner" innerhtml.bind="spinnerHTML"></span>
                                </td>
                            </tr>
                            <tr>
                                <th style="width:250px;"><span class="sortable" click.trigger="dataTable.sortArray($event, {propertyName: 'key'})">Key </span><span><i class="fa fa-sort"></i></span></th>
                                <th style="width:150px;"><span class="sortable" click.trigger="dataTable.sortArray($event, {propertyName: 'category'})">Category </span><span><i class="fa fa-sort"></i></span></th>
                                <th style="width:150px;"><span class="sortable" click.trigger="dataTable.sortArray($event, {propertyName: 'description'})">Description </span><span><i class="fa fa-sort"></i></span></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th>
                                    <input value.bind="keyFilterValue" input.delegate="dataTable.filterList(keyFilterValue, { type: 'text',  filter: 'keyFilter', collectionProperty: 'key', displayProperty: 'key',  compare:'match'} )"  class="form-control" />
                                </th>
                                <th>
                                    <select value.bind="categoryFilter" input.delegate="dataTable.filterList($event, { type:
                                    'value',  filter: 'categoryFilter',  collectionProperty: 'category', displayProperty: 'category', matchProperty:'', compare:'match'} )" class="form-control">
                                        <option value=""></option>
                                        <option value="${type}" repeat.for="type of config.MESSAGE_TYPES">${type}</option>
                                    </select>
                                </th>
                                <th>
                                    <input value.bind="descriptionFilterValue" input.delegate="dataTable.filterList(descriptionFilterValue, { type: 'text',  filter: 'descriptionFilter', collectionProperty: 'description', displayProperty: 'description',  compare:'match'} )"  class="form-control" />
                                </th>
                            </tr>
                            <tr click.trigger="edit($index, $event)" repeat.for="item of dataTable.displayArray">
                                <td data-title="Key">${item.key}</td>
                                <td data-title="Category" style="width: 75px">
                                    <div>${item.category}</div>
                                </td>
                                <td data-title="Description" style="width: 75px">
                                    <div>${item.description}</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</template>