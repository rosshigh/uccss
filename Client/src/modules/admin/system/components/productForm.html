<template>
    <div class="col-lg-12">

        <div class="bottomMargin list-group-item leftMargin rightMargin">
            <span click.delegate="back()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Back"><i class="fa fa-arrow-left fa-lg fa-border" aria-hidden="true"></i></span>
            <span click.delegate="save()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Save"><i class="fa fa-floppy-o fa-lg fa-border" aria-hidden="true"></i></span>
            <span click.delegate="cancel()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Cancel Changes"><i class="fa fa-ban fa-lg fa-border" aria-hidden="true"></i></span>
            <span click.delegate="delete()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Delete"><i class="fa fa-trash fa-lg fa-border text-danger" aria-hidden="true"></i></span>
        </div>  

        <div class=" topMargin blackText">
            <form class="form-horizontal topMargin">

                <!-- Row 1 -->
                <div class="row">
                    <div class="col-sm-12 col-lg-6">
                        <div class="col-lg-12">
                            <div class="form-group">
                                <label for="editName" class="col-sm-3 control-label hideOnPhone">Name</label>
                                <div class="col-sm-8">
                                    <input value.bind="products.selectedProduct.name" id="editName" class="form-control " placeholder="Name" type="text" />
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-12">
                            <div class="form-group">
                                <label class="control-label col-sm-3 hideOnPhone">Status</label>
                                <div class="col-sm-8">
                                    <div class="checkbox">
                                        <label class="pull-left">
                                            <input id="activeProduct" checked.bind="products.selectedProduct.active" type="checkbox"> Active
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-12" show.bind="products.selectedProduct.files.length > 0">
                            <div class="form-group ">
                                <label for="editFileName" class="col-sm-3 control-label ">Files</label>
                                <div class="col-sm-8 ">
                                    <ul class="list-group">
                                        <li repeat.for="file of products.selectedProduct.files"  class="list-group-item" id="${file._id}">
                                            <a href="${config.PRODUCT_FILE_DOWNLOAD_URL}${camelizedProductName}/${file.fileName}"  target="_blank">${file.originalFilename}</a>
                                             <span class="pull-right" click.trigger="deleteFile($index)"><i class="fa fa-trash" aria-hidden="true"></i></span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-12">
                            <div class="input-group">
                                <span class="input-group-btn col-sm-offset-3">
                                    <span class="btn btn-primary btn-fill btn-wd btn-file">
                                    Browse...<input change.delegate="changeFiles()" id="uploadFiles" files.bind="files" type="file" multiple=true>
                                    </span>
                                </span>
                                <input type="text" value.bind="filesSelected" class="form-control" readonly/>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-12 col-lg-6">
                        <div class="form-group ">
                            <label for="editClientInfo " class="col-sm-3 control-label ">Client Info</label>
                            <div class="col-sm-8 ">
                            <textarea value.bind="products.selectedProduct.clientInfo " id="editClientInfo " rows="10" class="form-control "></textarea>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row topMargin">
                    <div class="col-lg-12">
                        <div class="row">
                            <div class="panel panel-default">
                                <div class="panel-body">
                                    <div class="col-lg-2">
                                        <div id="productListGroup" class="list-group">
                                            <a  class="${ $first ? 'active' : ''} list-group-item"  repeat.for="tab of tabs" href="" class="list-group-item" click.delegate="changeTab($event, $index)">
                                                <h4 id="${tab.id}" class="list-group-item-heading">${tab.id}</h4>
                                            </a>
                                        </div>
                                    </div>

                                    <div class="col-lg-10">
                                        <div class="tab-content">
                                            <div repeat.for="tab of tabs" id="${tab.id + 'Tab'}" class="${ $first ? 'tab-pane fade in active' : 'tab-pane fade' }">
                                                <compose view="${tabPath + tab.id + '.html'}"></compose>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</template>
