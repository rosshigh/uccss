<template>
    <div class="bottomMargin list-group-item leftMargin rightMargin">
        <span click.delegate="backFromChangeForm()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom"
            title="" data-original-title="Back"><i class="fa fa-arrow-left fa-lg fa-border" aria-hidden="true"></i></span>
        <span click.delegate="saveChange()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom"
            title="" data-original-title="Save"><i class="fa fa-floppy-o fa-lg fa-border" aria-hidden="true"></i></span>
        <span click.delegate="cancelChange()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip" data-placement="bottom"
            title="" data-original-title="Cancel Changes"><i class="fa fa-ban fa-lg fa-border" aria-hidden="true"></i></span>
        <span show.bind="!newItem" click.delegate="deleteChange()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip"
            data-placement="bottom" title="" data-original-title="Delete"><i class="fa fa-trash fa-lg fa-border text-danger"
                aria-hidden="true"></i></span>
    </div>

    <div class="col-lg-offset-2">
        <h2>${systems.selectedSystem.sid}</h2>
    </div>
    <form class="form-horizontal topMargin">
        <div class="row">
            <div class="col-sm-12 col-lg-12">
                <div class="form-group">
                    <label for="editCategory" class="col-sm-2 control-label hideOnPhone">Type</label>
                    <div class="col-sm-8">
                        <select value.bind="systems.selectedChange.category" id="editCategory" class="form-control">
                            <option value="">Select the change category</option>
                            <option repeat.for="type of systems.changeCategoryArray" model.bind="type.category">${type.category}</option>
                        </select>
                        <a class="btn btn-link" click.trigger="openEditCatForm('new')" aria-hidden="true">(Add a
                            Category)</a>
                        <a class="btn btn-link" disable.bind="systems.selectedChange.category == ''"
                            click.trigger="openEditCatForm('edit')" aria-hidden="true">(Edit this Category)</a>
                    </div>
                </div>
            </div>
        </div>
        <div show.bind="showCategoryForm" class="row">
            <div class="panel panel-default col-lg-8 col-lg-offset-2" style="background-color:ghostwhite;">
                <div class="panel-body">
                    <div class="list-group-item bottomMargin col-sm-12 topMargin">
                        <span click.delegate="saveCategory()" class="smallMarginRight" bootstrap-tooltip data-toggle="tooltip"
                            data-placement="bottom" title="" data-original-title="Save"><i class="fa fa-floppy-o fa-lg fa-border"
                                aria-hidden="true"></i></span>
                        <span click.delegate="cancelEditCategory()" class="smallMarginRight" bootstrap-tooltip
                            data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Cancel Changes"><i
                                class="fa fa-ban fa-lg fa-border" aria-hidden="true"></i></span>
                        <span show.bind=" editCategoryFlag" click.delegate="deleteCat()" class="smallMarginRight"
                            bootstrap-tooltip data-toggle="tooltip" data-placement="bottom" title=""
                            data-original-title="Delete"><i class="fa fa-trash fa-lg fa-border text-danger" aria-hidden="true"></i></span>
                    </div>
                    <div class="row">
                        <div class="col-sm-12 col-lg-12">
                            <div class="form-group">
                                <label for="editTitle" class="col-sm-2 control-label hideOnPhone">Title</label>
                                <div class="col-sm-8">
                                    <input value.bind="systems.selectedChangeCategory.category" id="editCategoryName"
                                        class="form-control " placeholder="Name" type="text" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12 col-lg-12">
                            <div class="form-group">
                                <label for="editCategory" class="col-sm-2 control-label hideOnPhone">Description</label>
                                <div class="col-sm-8">
                                    <editor value.bind="systems.selectedChangeCategory.categoryDescription"
                                        toolbar.bind="toolbar" height="250"></editor>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-12 col-lg-12">
                <div class="form-group">
                    <label for="editCategory" class="col-sm-2 control-label hideOnPhone">Change</label>
                    <div class="col-sm-8">
                        <editor value.bind="systems.selectedChange.content" toolbar.bind="toolbar" height="250"></editor>    
                    </div>
                </div>
            </div>
        </div>
    </form>


</template>